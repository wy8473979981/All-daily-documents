{"version":3,"sources":["uni-app:///main.js","webpack:////Users/company/ys/2gitPro/bl/pms-h5-web/operating/pages/zhaoshang/index.vue?3c58","webpack:////Users/company/ys/2gitPro/bl/pms-h5-web/operating/pages/zhaoshang/index.vue?ef13","webpack:////Users/company/ys/2gitPro/bl/pms-h5-web/operating/pages/zhaoshang/index.vue?23d2","webpack:////Users/company/ys/2gitPro/bl/pms-h5-web/operating/pages/zhaoshang/index.vue?b69a","uni-app:///pages/zhaoshang/index.vue","webpack:////Users/company/ys/2gitPro/bl/pms-h5-web/operating/pages/zhaoshang/index.vue?432e","webpack:////Users/company/ys/2gitPro/bl/pms-h5-web/operating/pages/zhaoshang/index.vue?87b5"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,iG;AACAA,UAAU,CAACC,cAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkH;AAClH;AACyD;AACL;AACa;;;AAGjE;AACsN;AACtN,gBAAgB,iNAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,gFAAM;AACR,EAAE,yFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,oFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAi2B,CAAgB,myBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC+Br3B,uF;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAFA;AACA,mB,47DASA,EACA,IADA,kBACA,CACA,SACA,UADA,EAEA;AACA,mBAHA,EAIA;AACA,gBACA;AACA,oBAFA,EAGA;AACA,sBAJA,EAKA;AACA,iBANA,EAOA,aAPA,EAQA,YARA,EASA,eATA,EAUA;AACA,sBAXA,CAWA;AAXA,OALA,EAmBA;AACA,kBACA,WADA,EAEA,WAFA,IAGA,EACA,WADA,EAEA,WAFA,EAHA,EAMA,EACA,WADA;AAEA,mBAFA,EANA;AASA;AACA,mBADA;AAEA,mBAFA,EATA,CApBA;;AAiCA;AACA;AACA,mBADA;AAEA,sBAFA;AAGA;AACA,mBADA;AAEA,0BAFA;AAGA,uBAHA,EAHA;AAOA;AACA,sBADA;AAEA,2BAFA;AAGA,sBAHA;AAIA,sBAJA,EAPA;AAYA;AACA,uBADA;AAEA,0BAFA;AAGA,uBAHA;AAIA,sBAJA;AAKA,sBALA,EAZA,CAlCA;;AAqDA;AACA;AACA,mBADA;AAEA,sBAFA;AAGA;AACA,mBADA;AAEA,0BAFA;AAGA,uBAHA,EAHA;AAOA;AACA,sBADA;AAEA,6BAFA;AAGA,sBAHA;AAIA,sBAJA,EAPA;AAYA;AACA,uBADA;AAEA,yBAFA;AAGA,uBAHA;AAIA,sBAJA;AAKA,sBALA,EAZA,CAtDA;;AAyEA,iBAzEA;AA0EA;AACA,kBA3EA;AA4EA;AACA,oBA7EA,CA6EA;AA7EA;;AAgFA,GAlFA;;AAoFA;AACA,0BADA;AAEA,sBAFA;AAGA,oCAHA;AAIA,0CAJA;AAKA,wBALA;AAMA,wBANA,EApFA;;AA4FA,WA5FA;;AA8FA;;;AAGA;AACA;AACA;AACA;AACA,gCADA;AAEA,sBAFA,EAEA,iBAFA;AAGA,sBAHA,EAGA,iBAHA;;AAKA;AACA;AACA,2BAVA,CAUA;AACA,GA5GA;AA6GA;AACA,cADA,wBACA;AACA;AACA;AACA;AACA,wBADA,EACA,SADA;;AAGA,KAPA;;AASA;AACA,qBAVA,6BAUA,CAVA,EAUA;AACA;AACA;AACA;AAHA,yQAIA,CAdA;;AAgBA;AACA,gBAjBA,wBAiBA,CAjBA,EAiBA;AACA,oBADA,GACA,cADA;AAEA;AACA,iCADA,EACA,IADA,EAFA;AAIA;;AAEA;AACA;AACA;AACA,iBAHA,MAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,+CADA;;AAGA,iBAJA,MAIA;AACA;AACA,8CADA;;AAGA,iBAlDA,CAkDA;;;AAGA,oCArDA;AAsDA,KAvEA;;AAyEA;AACA,iBA1EA,yBA0EA,CA1EA,EA0EA;AACA;AACA,wBADA,EACA,cADA;;AAGA;AACA,KA/EA;;AAiFA;AACA,gBAlFA,wBAkFA,CAlFA,EAkFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAJA;;AAMA;AACA;AACA,WADA,GACA,WADA;;AAGA;;AAEA;AACA;AACA,KAnGA;;AAqGA;AACA,cAtGA,sBAsGA,CAtGA,EAsGA;AACA;AACA;AACA,sBADA;;;AAIA;AACA;AACA,oCADA;;AAGA,OAJA,MAIA;AACA;AACA,mCADA;;AAGA;AACA,KArHA;;AAuHA;AACA,gBAxHA,0BAwHA;AACA;AACA,iCADA;AAEA,qBAFA,CAEA,2CAFA,CADA,SACA,GADA;AAIA,sBAJA,GAIA;AACA;AACA,oCADA;AAEA,mDAFA;AAGA,mEAHA;;AAKA,iBANA,CAJA;AAWA,qBAXA,GAWA;AACA,+BADA;AAEA,+BAFA;AAGA,2BAHA,EAXA;;AAgBA,sBAhBA,GAgBA,aAhBA;AAiBA;AACA;AACA,gCADA,IAlBA;;AAqBA,KA7IA;;AA+IA;AACA,mBAhJA,6BAgJA;AACA;AACA,iCADA;AAEA,qBAFA,CAEA,yCAFA,CADA,SACA,GADA;AAIA,sBAJA,GAIA;AACA;AACA,oCADA;AAEA,kDAFA;;AAIA,iBALA,CAJA;AAUA,qBAVA,GAUA;AACA,6BADA;AAEA,+BAFA;AAGA,2BAHA,EAVA;;AAeA,sBAfA,GAeA,aAfA;AAgBA;AACA;AACA,gCADA,IAjBA;;AAoBA,KApKA;;AAsKA;AACA,eAvKA,yBAuKA;AACA;AACA,iCADA;AAEA,qBAFA,CAEA,6CAFA,EAEA,aAFA,CADA,SACA,GADA;AAIA,sBAJA,GAIA,aAJA;;AAMA;AACA;AACA;AACA;AACA;AACA;;AAEA,oBAbA,GAaA;AACA;AACA,2CADA;AAEA,sDAFA;;AAIA,iBALA,CAbA;AAmBA,uBAnBA,GAmBA;AACA;AACA,wCADA;AAEA,qDAFA;;AAIA,iBALA,CAnBA;AAyBA;AACA,6BADA;AAEA,4CAFA;;AAIA;AACA,6BADA;AAEA,2CAFA;;AAIA,0BAjCA,GAiCA;AACA,+BADA;AAEA,6BAFA;AAGA,2BAHA,EAjCA;;AAsCA,6BAtCA,GAsCA;AACA,6BADA;AAEA,gCAFA;AAGA,2BAHA,EAtCA;;AA2CA;AACA;AACA,gCADA,IA5CA;;AA+CA,KAtNA;;AAwNA;AACA,YAzNA,oBAyNA,CAzNA,EAyNA;AACA;AACA;AACA;AACA;AACA;AACA,oCADA;AAEA,kCAFA;AAGA,oCAHA;AAIA,0CAJA;AAKA,0CALA;AAMA;AACA;AACA;AACA;AACA,KAxOA;;AA0OA;AACA,QA3OA,gBA2OA,CA3OA,EA2OA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAFA;AAGA,OAJA,MAIA;AACA;AACA;AACA,SAFA;AAGA;;AAEA;AACA;AACA;AACA,8BADA;;AAGA,SAJA,CADA;;AAOA,KAjQA;;AAmQA;AACA,eApQA,yBAoQA;AACA;AACA,iCADA;AAEA,qBAFA,CAEA,iDAFA,EAEA,aAFA,CADA,SACA,GADA;;AAKA;AACA;AACA;AACA;AACA,0CADA;;AAGA,qBAJA,CADA;AAMA,mDANA;;AAQA,iBATA,MASA;AACA;AACA,gCADA;AAEA,kCAFA;;AAIA,iBAnBA;AAoBA,KAxRA,EA7GA,E;;;;;;;;;;;;ACvCA;AAAA;AAAA;AAAA;AAA0tC,CAAgB,gmCAAG,EAAC,C;;;;;;;;;;;ACA9uC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/zhaoshang/index.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/zhaoshang/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=5bf336e3&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/zhaoshang/index.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=5bf336e3&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","<template>\r\n<!--pages/zhaoshang/index.wxml-->\r\n<view>\r\n  <app-header :tabs=\"tabList\" @tab-changed=\"onTabChanged\" :data-value=\"item.value\">\r\n    <!-- <app-project-selector bindselected=\"onProjectSelected\" /> -->\r\n    <view slot=\"right\">\r\n      <app-picker :fromDate=\"params.yearMonth\" fields=\"month\" @changed=\"onDateChanged\"></app-picker>\r\n    </view>\r\n    <view slot=\"right\" style=\"margin-left:20rpx\">\r\n      <app-filter-dialog :groups=\"groups\" @selected=\"bindselected\" title=\"筛选\">\r\n      </app-filter-dialog>\r\n    </view>\r\n  </app-header>\r\n  <!-- <view class=\"updata-time\">\r\n    数据更新时间：2020-04-10 数据来源系统：PMS系统</view> -->\r\n  <app-section title=\"项目排名\">\r\n    <view slot=\"head-actions\">\r\n      <view class=\"select-indicator\">\r\n        <view :class=\"'mount ' + ( timeSpan === '0' ? 'active' : '' )\" @tap=\"changeSpan\" data-span=\"0\"> 当月 </view>\r\n        <view class=\"line\"> | </view>\r\n        <view :class=\"'year ' + ( timeSpan === '1' ? 'active' : '' )\" @tap=\"changeSpan\" data-span=\"1\"> 累计 </view>\r\n      </view>\r\n    </view>\r\n    <app-table @sort=\"sort\" :values=\"dataList\" :columns=\"columns\" :totalRow=\"totalRow\" @row-column-click=\"clickRow\"></app-table>\r\n  </app-section>\r\n</view>\r\n</template>\r\n\r\n<script>\r\n// pages/zhaoshang/index.js\r\nconst app = getApp();\r\nimport regeneratorRuntime from \"@/utils/runtime\";\r\nimport appSection from \"@/components/container/section\";\r\nimport appTable from \"@/components/table/index\";\r\nimport appFilterDialog from \"@/components/filter/dialog\";\r\nimport appProjectSelector from \"@/components/selector/project\";\r\nimport appPicker from \"@/components/selector/datepicker\";\r\nimport appHeader from \"@/components/common/header\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      groups: [],\r\n      //右上角筛选\r\n      timeSpan: \"0\",\r\n      //当月/年累计\r\n      params: {\r\n        //默认选择 商务选项\r\n        layOutCd: \"\",\r\n        //业态\r\n        storeType: \"1\",\r\n        //物业类型\r\n        stage: \"\",\r\n        yearMonth: \"\",\r\n        tdType: \"sw\",\r\n        operateArea: \"\",\r\n        //项目区域\r\n        provinceCd: \"\" //省份\r\n\r\n      },\r\n      //tab 选项卡\r\n      tabList: [{\r\n        label: \"商务\",\r\n        value: \"sw\"\r\n      }, {\r\n        label: \"合同\",\r\n        value: \"ht\"\r\n      }, {\r\n        label: \"进场\",\r\n        value: \"jc\"\r\n      }, {\r\n        label: \"开业\",\r\n        value: \"ky\"\r\n      }],\r\n      //默认按月时的表头\r\n      monthColumns: [{\r\n        label: \"序号\",\r\n        width: \"90rpx\"\r\n      }, {\r\n        label: \"项目\",\r\n        key: \"projectName\",\r\n        width: \"160rpx\"\r\n      }, {\r\n        label: \"面积(㎡)\",\r\n        key: \"rentSquareSw\",\r\n        sortable: true,\r\n        align: \"right\"\r\n      }, {\r\n        label: \"完成率(%)\",\r\n        key: \"monthSwRate\",\r\n        width: \"180rpx\",\r\n        sortable: true,\r\n        align: \"right\"\r\n      }],\r\n      //默认按年时的表头\r\n      yearColumns: [{\r\n        label: \"序号\",\r\n        width: \"90rpx\"\r\n      }, {\r\n        label: \"项目\",\r\n        key: \"projectName\",\r\n        width: \"160rpx\"\r\n      }, {\r\n        label: \"面积(㎡)\",\r\n        key: \"rentSquareLjSw\",\r\n        sortable: true,\r\n        align: \"right\"\r\n      }, {\r\n        label: \"完成率(%)\",\r\n        key: \"yearSwRate\",\r\n        width: \"180rpx\",\r\n        sortable: true,\r\n        align: \"right\"\r\n      }],\r\n      columns: [],\r\n      //最终显示的表头数据\r\n      dataList: [],\r\n      //数据列表\r\n      totalRow: null //合计数据\r\n\r\n    };\r\n  },\r\n\r\n  components: {\r\n    appSection,\r\n    appTable,\r\n    appFilterDialog,\r\n    appProjectSelector,\r\n    appPicker,\r\n    appHeader\r\n  },\r\n  props: {},\r\n\r\n  /**\r\n   * 生命周期函数--监听页面加载\r\n   */\r\n  onLoad: function (options) {\r\n    // this.getNowDate()\r\n    //默认使用当月的表头数据\r\n    this.setData({\r\n      columns: this.monthColumns,\r\n      [\"params.yearMonth\"]: options.yearMonth,\r\n      [\"params.storeType\"]: options.storeType\r\n    });\r\n    this.getDataList();\r\n    this.getStoreType();\r\n    this.getlayoutCdList(); // this.getplanList()\r\n  },\r\n  methods: {\r\n    getNowDate() {\r\n      let date = new Date();\r\n      let yearMonth = date.getFullYear() + \"-\" + (date.getMonth() + 1);\r\n      this.setData({\r\n        [\"params.yearMonth\"]: yearMonth\r\n      });\r\n    },\r\n\r\n    //选择项目\r\n    async onProjectSelected(e) {// await this.setData({\r\n      //   [\"params.operateArea\"]: e.detail.name,\r\n      // });\r\n      // this.getDataList();\r\n    },\r\n\r\n    // 切换tab\r\n    async onTabChanged(e) {\r\n      let type = e.detail.value;\r\n      await this.setData({\r\n        [\"params.tdType\"]: type\r\n      }); // 商务状态时不给予选择跳转\r\n\r\n      if (type == \"sw\") {\r\n        this.yearColumns[1].color = \"\";\r\n        this.monthColumns[1].color = \"\";\r\n      } else {\r\n        this.yearColumns[1].color = \"#3992BA\";\r\n        this.monthColumns[1].color = \"#3992BA\";\r\n      }\r\n\r\n      if (type == \"sw\") {\r\n        this.monthColumns[2].key = \"rentSquareSw\";\r\n        this.monthColumns[3].key = \"monthSwRate\";\r\n        this.yearColumns[2].key = \"rentSquareLjSw\";\r\n        this.yearColumns[3].key = \"yearSwRate\";\r\n      }\r\n\r\n      if (type == \"ht\") {\r\n        this.monthColumns[2].key = \"rentSquareHt\";\r\n        this.monthColumns[3].key = \"monthHtRate\";\r\n        this.yearColumns[2].key = \"rentSquareLjHt\";\r\n        this.yearColumns[3].key = \"yearHtRate\";\r\n      }\r\n\r\n      if (type == \"jc\") {\r\n        this.monthColumns[2].key = \"rentSquareJc\";\r\n        this.monthColumns[3].key = \"monthJcRate\";\r\n        this.yearColumns[2].key = \"rentSquareLjJc\";\r\n        this.yearColumns[3].key = \"yearJcRate\";\r\n      }\r\n\r\n      if (type == \"ky\") {\r\n        this.monthColumns[2].key = \"rentSquareKy\";\r\n        this.monthColumns[3].key = \"monthKyRate\";\r\n        this.yearColumns[2].key = \"rentSquareLjKy\";\r\n        this.yearColumns[3].key = \"yearKyRate\";\r\n      }\r\n\r\n      if (this.timeSpan == \"0\") {\r\n        this.setData({\r\n          columns: this.monthColumns\r\n        });\r\n      } else {\r\n        this.setData({\r\n          columns: this.yearColumns\r\n        });\r\n      } // this.getplanList()\r\n\r\n\r\n      this.getDataList();\r\n    },\r\n\r\n    //日期选择\r\n    onDateChanged(e) {\r\n      this.setData({\r\n        [\"params.yearMonth\"]: e.detail.value\r\n      });\r\n      this.getDataList();\r\n    },\r\n\r\n    //筛选框选择数据\r\n    bindselected(e) {\r\n      let arr = e.detail;\r\n      let detais = {};\r\n      arr.map((item, index) => {\r\n        let key = item.split(\"-\")[0];\r\n        let val = item.split(\"-\")[1];\r\n        detais[key] = val;\r\n      });\r\n\r\n      for (const key in detais) {\r\n        this.setData({\r\n          [`params.${key}`]: detais[key]\r\n        });\r\n      }\r\n\r\n      console.log(detais);\r\n      this.getDataList();\r\n    },\r\n\r\n    //切换 当月/年累计\r\n    changeSpan(e) {\r\n      const span = e.currentTarget.dataset.span;\r\n      this.setData({\r\n        timeSpan: span\r\n      });\r\n\r\n      if (span === \"0\") {\r\n        this.setData({\r\n          columns: this.monthColumns\r\n        });\r\n      } else {\r\n        this.setData({\r\n          columns: this.yearColumns\r\n        });\r\n      }\r\n    },\r\n\r\n    // 获取搜索物业类型枚举\r\n    async getStoreType() {\r\n      let res = await app.globalData.request.options({\r\n        loading: true\r\n      }).get(\"/open/bis-open-dict!chargeTypeList.action\");\r\n      let result = res.data.map(item => {\r\n        return {\r\n          label: item.name,\r\n          value: \"storeType-\" + item.code,\r\n          selected: item.code === this.params.storeType\r\n        };\r\n      });\r\n      let group = {\r\n        label: \"物业类型\",\r\n        items: result,\r\n        maxnum: 1\r\n      };\r\n      let groups = this.groups;\r\n      groups.push(group);\r\n      this.setData({\r\n        groups\r\n      });\r\n    },\r\n\r\n    // 获取业态枚举\r\n    async getlayoutCdList() {\r\n      let res = await app.globalData.request.options({\r\n        loading: true\r\n      }).get(\"/open/bis-open-dict!layoutCdList.action\");\r\n      let result = res.data.map(item => {\r\n        return {\r\n          label: item.name,\r\n          value: \"layOutCd-\" + item.code\r\n        };\r\n      });\r\n      let group = {\r\n        label: \"业态\",\r\n        items: result,\r\n        maxnum: 1\r\n      };\r\n      let groups = this.groups;\r\n      groups.push(group);\r\n      this.setData({\r\n        groups\r\n      });\r\n    },\r\n\r\n    // 获取区域枚举\r\n    async getplanList() {\r\n      let res = await app.globalData.request.options({\r\n        loading: true\r\n      }).get(\"/open/bis-open-report!zsPlanListPage.action\", this.params);\r\n      let groups = this.groups;\r\n\r\n      for (let i = 0; i < groups.length; i++) {\r\n        if (groups[i].label == \"项目区域\" || groups[i].label == \"省份\") {\r\n          groups.splice(i, 1);\r\n          i--;\r\n        }\r\n      }\r\n\r\n      let area = res.data.operateAreaList.map(item => {\r\n        return {\r\n          label: item.operateArea,\r\n          value: \"operateArea-\" + item.index\r\n        };\r\n      });\r\n      let provice = res.data.proviceList.map(item => {\r\n        return {\r\n          label: item.province,\r\n          value: \"provinceCd-\" + item.index\r\n        };\r\n      });\r\n      area.unshift({\r\n        label: \"全部\",\r\n        value: \"operateArea-\" + \"\"\r\n      });\r\n      provice.unshift({\r\n        label: \"全部\",\r\n        value: \"provinceCd-\" + \"\"\r\n      });\r\n      let area_group = {\r\n        label: \"项目区域\",\r\n        items: area,\r\n        maxnum: 1\r\n      };\r\n      let provice_group = {\r\n        label: \"省份\",\r\n        items: provice,\r\n        maxnum: 1\r\n      };\r\n      groups.push(area_group, provice_group);\r\n      this.setData({\r\n        groups\r\n      });\r\n    },\r\n\r\n    // 点击行查看详情跳转\r\n    clickRow(e) {\r\n      if (this.params.tdType != \"sw\") {\r\n        let bisProjectId = e.detail.row.bisProjectId;\r\n        let projectName = e.detail.row.projectName;\r\n        console.log(this.params);\r\n        app.globalData.page.go(\"./details/details\", {\r\n          bisProjectId: bisProjectId,\r\n          projectName: projectName,\r\n          tdType: this.params.tdType,\r\n          yearMonth: this.params.yearMonth,\r\n          storeType: this.params.storeType\r\n        }); // wx.navigateTo({\r\n        //   url: `./details/details?bisProjectId=${bisProjectId}&projectName=${projectName}&tdType=${this.data.tdType}`,\r\n        // });\r\n      }\r\n    },\r\n\r\n    //列表排序\r\n    sort(e) {\r\n      let key = e.detail.key;\r\n      let direction = e.detail.direction;\r\n      let dataList = this.dataList;\r\n\r\n      if (direction === \"up\") {\r\n        dataList.sort((a, b) => {\r\n          return parseFloat(a[key]) - parseFloat(b[key]);\r\n        });\r\n      } else if (direction === \"down\") {\r\n        dataList.sort((a, b) => {\r\n          return parseFloat(b[key]) - parseFloat(a[key]);\r\n        });\r\n      }\r\n\r\n      this.setData({\r\n        dataList: this.dataList.map((item, index) => {\r\n          return { ...item,\r\n            ranking: index + 1\r\n          };\r\n        })\r\n      });\r\n    },\r\n\r\n    //获取表格数据\r\n    async getDataList() {\r\n      let res = await app.globalData.request.options({\r\n        loading: true\r\n      }).get(\"/open/bis-open-report!zsPlanListPageItem.action\", this.params);\r\n\r\n      if (res.data.length) {\r\n        this.setData({\r\n          dataList: res.data.slice(0, -1).map((item, index) => {\r\n            return { ...item,\r\n              ranking: index + 1\r\n            };\r\n          }),\r\n          totalRow: res.data.slice(-1)[0]\r\n        });\r\n      } else {\r\n        this.setData({\r\n          dataList: [],\r\n          totalRow: null\r\n        });\r\n      }\r\n    }\r\n\r\n  }\r\n};\r\n</script>\r\n<style>\r\n@import \"./index.css\";\r\n</style>","import mod from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1611196571047\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}