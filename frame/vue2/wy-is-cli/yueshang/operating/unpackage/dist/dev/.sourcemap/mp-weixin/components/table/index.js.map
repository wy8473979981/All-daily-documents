{"version":3,"sources":["webpack:////Users/company/ys/2gitPro/bl/pms-h5-web/operating/components/table/index.vue?a91a","webpack:////Users/company/ys/2gitPro/bl/pms-h5-web/operating/components/table/index.vue?b10d","webpack:////Users/company/ys/2gitPro/bl/pms-h5-web/operating/components/table/index.vue?75ee","webpack:////Users/company/ys/2gitPro/bl/pms-h5-web/operating/components/table/index.vue?7e0c","uni-app:///components/table/index.vue","webpack:////Users/company/ys/2gitPro/bl/pms-h5-web/operating/components/table/index.vue?934c","webpack:////Users/company/ys/2gitPro/bl/pms-h5-web/operating/components/table/index.vue?c675","webpack:////Users/company/ys/2gitPro/bl/pms-h5-web/operating/components/table/fn.wxs?f40e","webpack:////Users/company/ys/2gitPro/bl/pms-h5-web/operating/components/table/fn.wxs?6cc4"],"names":[],"mappings":"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","file":"components/table/index.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=338770e6&filter-modules=eyJmbiI6eyJ0eXBlIjoic2NyaXB0IiwiY29udGVudCI6IiIsInN0YXJ0IjoyNzY0LCJhdHRycyI6eyJtb2R1bGUiOiJmbiIsImxhbmciOiJ3eHMiLCJzcmMiOiIuL2ZuLnd4cyJ9LCJlbmQiOjI3NjR9fQ%3D%3D&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\n/* custom blocks */\nimport block0 from \"./fn.wxs?vue&type=custom&index=0&blockType=script&issuerPath=%2FUsers%2Fcompany%2Fys%2F2gitPro%2Fbl%2Fpms-h5-web%2Foperating%2Fcomponents%2Ftable%2Findex.vue&module=fn&lang=wxs\"\nif (typeof block0 === 'function') block0(component)\n\ncomponent.options.__file = \"components/table/index.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=338770e6&filter-modules=eyJmbiI6eyJ0eXBlIjoic2NyaXB0IiwiY29udGVudCI6IiIsInN0YXJ0IjoyNzY0LCJhdHRycyI6eyJtb2R1bGUiOiJmbiIsImxhbmciOiJ3eHMiLCJzcmMiOiIuL2ZuLnd4cyJ9LCJlbmQiOjI3NjR9fQ%3D%3D&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.__map(_vm.component.columns, function(column, columni) {\n    var $orig = _vm.__get_orig(column)\n\n    var g0 = JSON.stringify(column)\n    return {\n      $orig: $orig,\n      g0: g0\n    }\n  })\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","<template>\r\n<view class=\"app-table\">\r\n\r\n  <view class=\"app-table-header\">\r\n    <view class=\"app-table-header__items\">\r\n      <view v-for=\"(column, columni) in component.columns\" :key=\"columni\" :class=\"'app-table-header__item ' + ( columni < fixednum ? 'fixed' : '' ) + ' ' + ( column.groupName ? 'in-group' : '' ) + ' text-' + column.align + ' ' + ( column.sortable ? 'sortable' : '' )\" @tap=\"onHeadColumnClick\" :data-column=\"JSON.stringify(column)\" :style=\"column.$styles\">\r\n        <view class=\"app-table-header__item__group\" v-if=\"column.groupName\">\r\n          <view class=\"app-table-header__item__group-name\">\r\n            {{ column.groupIndex === 0 ? column.groupName : '' }}\r\n          </view>\r\n        </view>\r\n        <view class=\"app-table-header__item__column-name\">{{ column.label }}</view>\r\n        <image v-if=\"column.sortable && component.sorted.key === column.key && component.sorted.direction === 'up'\" style=\"width:18rpx;height:21rpx;\" src=\"/static/assets/images/icon-sortup.png\"></image>\r\n        <image v-else-if=\"column.sortable && component.sorted.key === column.key && component.sorted.direction === 'down'\" style=\"width:18rpx;height:21rpx;\" src=\"/static/assets/images/icon-sortdown.png\"></image>\r\n        <image v-else-if=\"column.sortable\" style=\"width:18rpx;height:21rpx;\" src=\"/static/assets/images/icon-sortable.png\"></image>\r\n      </view>\r\n    </view>\r\n  </view>\r\n\r\n  <view class=\"app-table-rows\">\r\n    <view class=\"app-table-rows__empty\" v-if=\"component.rows.length === 0\">\r\n      {{ emptyText }}\r\n    </view>\r\n   <block v-else>\r\n      <view class=\"app-table-row app-table-row--total\" v-if=\"component.totalRow\">\r\n        <view v-for=\"(column, columni) in component.columns\" :key=\"columni\" :class=\"'app-table-row__item ' + ( columni < fixednum ? 'fixed' : '' ) + ' text-' + column.align + ' ' + ( column.sortable ? 'sortable' : '' )\" :style=\"column.$styles + ';'\">\r\n          <text>{{ column.key ? component.totalRow[column.key] : '' }}</text>\r\n        </view>\r\n      </view>\r\n      <view v-for=\"(row, rowi) in component.rows\" :key=\"rowi\" class=\"app-table-row\">\r\n        <view v-for=\"(column, columni) in component.columns\" :key=\"columni\" @tap=\"onRowColumnClick(rowi,row,column)\" :data-index=\"rowi\" :data-row=\"row\" :data-column=\"column\" :style=\"column.$styles + ';color: ' + column.color + ';'\" :class=\"'app-table-row__item ' + ( columni < fixednum ? 'fixed' : '' ) + ' text-' + (column.align || 'center') + ' ' + ( column.sortable ? 'sortable' : '' ) + ' ' + ( row['$selected']?(row['$selected'][column.key] ? 'selected' : '' ): '')\">\r\n          <text>{{ column.key ? row[column.key] : rowi + 1 }}</text>\r\n        </view>\r\n      </view>\r\n    </block>\r\n  </view>\r\n\r\n</view>\r\n</template>\r\n\r\n<script module=\"fn\" lang=\"wxs\" src=\"./fn.wxs\"></script>\r\n\r\n<script>\r\nimport * as helper from '@/utils/util';\r\nconst timers = {};\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      component: {\r\n        sorted: {\r\n          key: null,\r\n          direction: null\r\n        },\r\n        fixedList: [],\r\n        groups: [],\r\n        columns: [],\r\n        rows: [],\r\n        selectedMap: {}\r\n      }\r\n    };\r\n  },\r\n\r\n  components: {},\r\n  props: {\r\n    identity: {\r\n      type: String,\r\n      default: 'table'\r\n    },\r\n    columns: {\r\n      // label, key, sortable, width, bgColor, color, bold\r\n      type: Array,\r\n      default: function(){\n\t\t  return []\n\t  }\r\n    },\r\n    fixednum: {\r\n      type: Number,\r\n      default: 0\r\n    },\r\n    values: {\r\n      type: Array,\r\n      default: function(){\n\t\t  return []\n\t  }\r\n    },\r\n    totalRow: {\r\n      type: Object\r\n    },\r\n    selected: {\r\n      type: Object // { key, keysMap: { [key: string]: string[], style, color, bgColor }\r\n\r\n    },\r\n    emptyText: {\r\n      type: String,\r\n      default: '暂无数据'\r\n    },\r\n    defaultValue: {\r\n      type: String\r\n    }\r\n  },\n  computed: {\n\t  listenChange () {\n\t\t  const {fixednum,columns,defaultValue,values,totalRow,selected} = this\n\t\t  return {fixednum,columns,defaultValue,values,totalRow,selected}\n\t  }\n  },\r\n  watch: {\r\n    values: {\r\n      handler: function (newValue) {\r\n        this.setData({\r\n          'component.rows': this.buildRows(newValue)\r\n        });\r\n      },\r\n      immediate: true,\r\n      deep: true\r\n    },\r\n    totalRow: {\r\n      handler: function (newValue) {\r\n        if (newValue) {\r\n          this.setData({\r\n            'component.totalRow': this.buildRows([newValue])[0]\r\n          });\r\n        }\r\n      },\r\n      immediate: true,\r\n      deep: true\r\n    },\r\n\r\n    listenChange(val) {\r\n      const {\r\n        fixednum,\r\n        columns,\r\n        values,\r\n        totalRow,\r\n        selected\r\n      } = val;\r\n\r\n      if (timers[`${this.identity}_observers`]) {\r\n        clearTimeout(timers[`${this.identity}_observers`]);\r\n      }\r\n\r\n      const setdata = {};\r\n      let setColumns = [];\r\n\r\n      if (columns.length) {\r\n        setColumns = columns.map(({\r\n          width,\r\n          ...column\r\n        }) => {\r\n          const $styles = [];\r\n          const item = { ...column\r\n          };\r\n          const itemWidth = width ? parseInt(width.toString().replace('rpx', '')) : null;\r\n\r\n          if (itemWidth) {\r\n            item.width = itemWidth;\r\n            $styles.push(`min-width:${itemWidth}rpx`);\r\n            $styles.push(`max-width:${itemWidth}rpx`);\r\n          } else if (column.fixed) {\r\n            item.width = item.width || 120;\r\n            $styles.push('min-width:120rpx');\r\n            $styles.push('max-width:120rpx');\r\n          }\r\n\r\n          return {\r\n            width: width ? parseInt(width.toString().replace('rpx', '')) : 120,\r\n            ...column,\r\n            $styles\r\n          };\r\n        });\r\n      }\r\n\r\n      if (selected) {\r\n        const {\r\n          key,\r\n          keysMap,\r\n          ...options\r\n        } = selected;\r\n        this.setData({\r\n          'component.selected': {\r\n            key: key || 'id',\r\n            keysMap: keysMap || {},\r\n            ...options\r\n          }\r\n        });\r\n      }\r\n\r\n      if (setColumns.length) {\r\n        if (fixednum) {\r\n          let nextLeft = 0;\r\n          const fixedList = setColumns.reduce((result, column, coli) => {\r\n            result.push(nextLeft);\r\n\r\n            if (coli && coli % 2) {\r\n              nextLeft -= 2;\r\n            }\r\n\r\n            nextLeft += column.width;\r\n            return result;\r\n          }, []);\r\n          setdata['component.fixedList'] = fixedList;\r\n          const groups = [];\r\n          let groupItems = [];\r\n          let groupName = '';\r\n          setColumns = setColumns.map(({\r\n            $styles,\r\n            ...column\r\n          }, columni) => {\r\n            if (groupName !== (column.group || '') && groupItems.length) {\r\n              groups.push({\r\n                label: groupName,\r\n                items: groupItems\r\n              });\r\n              groupItems = [];\r\n            }\r\n\r\n            groupName = column.group || '';\r\n            groupItems.push(column);\r\n\r\n            if (columni < this.fixednum) {\r\n              $styles.push(`left:${fixedList[columni]}rpx`);\r\n            }\r\n\r\n            return { ...column,\r\n              groupName,\r\n              groupIndex: groupItems.length - 1,\r\n              $styles\r\n            };\r\n          });\r\n          groups.push({\r\n            label: groupName,\r\n            items: groupItems\r\n          });\r\n          setdata['component.groups'] = groups;\r\n        }\r\n\r\n        setdata['component.columns'] = setColumns.map(({\r\n          $styles,\r\n          ...column\r\n        }) => ({ ...column,\r\n          $styles: ($styles || ['']).join(';')\r\n        }));\r\n      }\r\n\r\n      if (totalRow) {\r\n        setdata['component.totalRow'] = this.buildRows([totalRow], setColumns)[0];\r\n      }\r\n\r\n      if (values.length) {\r\n        setdata['component.rows'] = this.buildRows(values, setColumns);\r\n      }\r\n\r\n      timers[`${this.identity}_observers`] = setTimeout(() => {\r\n        this.setData(setdata);\r\n      }, 100);\r\n    }\r\n\r\n  },\r\n  beforeMount: function () {},\r\n  destroyed: function () {// 在组件实例被从页面节点树移除时执行\r\n  },\r\n  methods: {\r\n    buildRows(rows = [], columns) {\r\n      return rows.map(row => {\r\n        const result = { ...row\r\n        };\r\n        const selectedOptions = this.component.selected;\r\n\r\n        if (selectedOptions) {\r\n          result['$selected'] = {};\r\n        }\r\n\r\n        (columns || this.component.columns).map(column => {\r\n          const {\r\n            key,\r\n            defaultValue,\r\n            numberFormat,\r\n            numberPrecision,\r\n            unit\r\n          } = column;\r\n          result[key] = row[key];\r\n\r\n          if ([null, undefined, ''].includes(result[key])) {\r\n            result[key] = defaultValue || '-';\r\n          } else {\r\n            if (numberFormat) {\r\n              result[key] = helper.numberFormat(result[key], {\r\n                precision: numberPrecision,\r\n                unit\r\n              });\r\n            }\r\n\r\n            if (unit) {\r\n              const unitRegex = new RegExp(unit, 'ig');\r\n              result[key] = `${result[key].toString().replace(unitRegex, '')}${unit}`;\r\n            }\r\n          }\r\n\r\n          const selectedOptions = this.component.selected;\r\n\r\n          if (selectedOptions) {\r\n            if ((selectedOptions.keysMap[row[selectedOptions.key]] || []).includes(key)) {\r\n              result.$selected[key] = selectedOptions;\r\n            }\r\n          }\r\n        });\r\n        return result;\r\n      });\r\n    },\r\n\r\n    onHeadColumnClick(e) {\r\n      const datas = e.currentTarget.dataset\n      const column = JSON.parse(datas.column)\n\t  const key = column.key\n      const sortable = {\n        key,\n        ...column\n      }\r\n      const {\r\n        sorted,\r\n        rows\r\n      } = this.component;\r\n\r\n      if (sortable) {\r\n        if (sorted.key !== key) {\r\n          sorted.key = key;\r\n          sorted.direction = 'up';\r\n        } else {\r\n          switch (sorted.direction) {\r\n            case 'up':\r\n              sorted.direction = 'down';\r\n              break;\r\n\r\n            case 'down':\r\n              sorted.direction = null;\r\n              break;\r\n\r\n            default:\r\n              sorted.direction = 'up';\r\n              break;\r\n          }\r\n        }\r\n\r\n        const sortedRows = sorted.direction ? [...rows].sort((r1, r2) => {\r\n          const r1Value = parseFloat((r1[key] || 0).toString().replace(/[^\\d.-]/g, ''));\r\n          const r2Value = parseFloat((r2[key] || 0).toString().replace(/[^\\d.-]/g, ''));\r\n\r\n          if (isNaN(r1Value)) {\r\n            return 1 - 0;\r\n          } else if (isNaN(r2Value)) {\r\n            return 0 - 1;\r\n          }\r\n\r\n          return sorted.direction === 'up' ? r1Value - r2Value : r2Value - r1Value;\r\n        }) : this.buildRows(this.values);\r\n        const setdata = {\r\n          'component.sorted': sorted,\r\n          'component.rows': sortedRows\r\n        };\r\n        const firstColumn = this.columns[0];\r\n\r\n        if (!firstColumn.key) {\r\n          if (sorted.direction) {\r\n            setdata['component.columns[0].label'] = '排序';\r\n          } else {\r\n            setdata['component.columns[0].label'] = firstColumn.label;\r\n          }\r\n        }\r\n\r\n        this.setData(setdata);\r\n      }\r\n\r\n      this.$emit('head-click', {\r\n        detail: e.currentTarget.dataset\r\n      });\r\n    },\r\n\r\n    onRowColumnClick(index,row,column) {\n\t\tlet detail = {row:row,column:column}\n      this.$emit('row-column-click', {\r\n        index,detail\r\n      });\r\n      this.$emit('row-click', {\r\n        detail: {\r\n          index,row,column\r\n        }\r\n      });\r\n    }\r\n\r\n  }\r\n};\r\n</script>\r\n<style>\r\n@import \"./index.css\";\r\n</style>","import mod from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1611196580493\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","import mod from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-filter-loader/index.js!./fn.wxs?vue&type=custom&index=0&blockType=script&issuerPath=%2FUsers%2Fcompany%2Fys%2F2gitPro%2Fbl%2Fpms-h5-web%2Foperating%2Fcomponents%2Ftable%2Findex.vue&module=fn&lang=wxs\"; export default mod; export * from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-filter-loader/index.js!./fn.wxs?vue&type=custom&index=0&blockType=script&issuerPath=%2FUsers%2Fcompany%2Fys%2F2gitPro%2Fbl%2Fpms-h5-web%2Foperating%2Fcomponents%2Ftable%2Findex.vue&module=fn&lang=wxs\"","export default function (Component) {\n       if(!Component.options.wxsCallMethods){\n         Component.options.wxsCallMethods = []\n       }\n       \n     }"],"sourceRoot":""}