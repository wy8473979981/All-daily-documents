{"version":3,"sources":["uni-app:///main.js","webpack:////Users/company/ys/2gitPro/bl/pms-h5-web/operating/pages/shouru/shouruxq/shouruxq.vue?b6d5","webpack:////Users/company/ys/2gitPro/bl/pms-h5-web/operating/pages/shouru/shouruxq/shouruxq.vue?8949","webpack:////Users/company/ys/2gitPro/bl/pms-h5-web/operating/pages/shouru/shouruxq/shouruxq.vue?07a9","webpack:////Users/company/ys/2gitPro/bl/pms-h5-web/operating/pages/shouru/shouruxq/shouruxq.vue?6af0","uni-app:///pages/shouru/shouruxq/shouruxq.vue","webpack:////Users/company/ys/2gitPro/bl/pms-h5-web/operating/pages/shouru/shouruxq/shouruxq.vue?c40e","webpack:////Users/company/ys/2gitPro/bl/pms-h5-web/operating/pages/shouru/shouruxq/shouruxq.vue?c785"],"names":["createPage","Page"],"mappings":"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;;AAGA,OAJA,MAIA;AACA;AACA,mCADA;;AAGA;AACA,KA/FA;;AAiGA,qBAjGA,6BAiGA,CAjGA,EAiGA;AACA;AACA;AACA,2BADA,EACA,MADA;;AAGA;AACA,KAvGA;;AAyGA;AACA,aA1GA,qBA0GA,CA1GA,EA0GA;AACA,oBADA,GACA,4BADA;AAEA;AACA,+BADA,EACA,IADA,EAFA;;AAKA,qCALA;AAMA,KAhHA;;AAkHA;AACA,gBAnHA,0BAmHA;AACA;AACA,yBADA,CACA;AACA,iCADA,EADA;;AAIA,qBAJA,CAIA,2CAJA,CADA,SACA,GADA;AAMA,sBANA,GAMA;AACA;AACA,oCADA;AAEA,mDAFA;AAGA,mEAHA;;AAKA,iBANA,CANA;AAaA,qBAbA,GAaA;AACA,+BADA;AAEA,+BAFA;AAGA,2BAHA,EAbA;;AAkBA,sBAlBA,GAkBA,aAlBA;AAmBA;AACA;AACA,gCADA,IApBA;;AAuBA,KA1IA;;AA4IA;AACA,YA7IA,sBA6IA;AACA;AACA,yBADA,CACA;AACA,iCADA,EADA;;AAIA,qBAJA,CAIA,sCAJA,CADA,SACA,GADA;AAMA,sBANA,GAMA;AACA;AACA,oCADA;AAEA,+CAFA;;AAIA,iBALA,CANA;AAYA,qBAZA,GAYA;AACA,+BADA;AAEA,+BAFA;AAGA,2BAHA,EAZA;;AAiBA,sBAjBA,GAiBA,aAjBA;AAkBA;AACA;AACA,gCADA,IAnBA;;AAsBA,KAnKA;;AAqKA,gBArKA,wBAqKA,CArKA,EAqKA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,4BADA,EACA,KADA;;AAGA;;AAEA;AACA;AACA,iCADA;;AAGA;AACA,OAhBA;AAiBA;AACA,KAxLA;;AA0LA,oBA1LA,4BA0LA,CA1LA,EA0LA;AACA,mBADA,CACA,IADA,kBACA,IADA,CACA,QADA,kBACA,QADA;;AAGA;AACA,gBADA,CACA,GADA,aACA,GADA,CACA,MADA,aACA,MADA;;AAGA;AACA;AACA;;AAEA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAhNA;;AAkNA,mBAlNA,6BAkNA;AACA;AACA,6BADA;AAEA,8EAFA;;AAIA;AACA,0BANA,CAMA;AACA,KAzNA;;AA2NA,gBA3NA,0BA2NA;AACA,iBADA,CACA,YADA,gBACA,YADA,CACA,QADA,gBACA,IADA,CACA,SADA,gBACA,SADA;AAEA;AACA;AACA,YADA,CACA,gDADA;AAEA,SAFA,CAEA;AACA;AACA,oBADA;AAEA,2CAFA;AAGA,mBAHA;;AAKA,OARA;AASA;AACA,aADA,CACA;AACA,qBADA,EADA;;AAIA,UAJA,CAIA,8DAJA,EAIA;AACA,kCADA;AAEA,4BAFA;AAGA,4CAHA;AAIA,0BAJA;AAKA,iDALA,EAJA;;AAWA,UAXA,CAWA;AACA;AACA,OAbA;AAcA,KArPA;;AAuPA,kBAvPA,4BAuPA;AACA;AACA,8BADA;AAEA,uDAFA;;;AAKA;AACA;AACA;AACA;;AAEA;AACA;AACA,0BAbA,CAaA;AACA,KArQA,EArYA,E;;;;;;;;;;;;ACzDA;AAAA;AAAA;AAAA;AAAkvC,CAAgB,mmCAAG,EAAC,C;;;;;;;;;;;ACAtwC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/shouru/shouruxq/shouruxq.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/shouru/shouruxq/shouruxq.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./shouruxq.vue?vue&type=template&id=077c4b92&\"\nvar renderjs\nimport script from \"./shouruxq.vue?vue&type=script&lang=js&\"\nexport * from \"./shouruxq.vue?vue&type=script&lang=js&\"\nimport style0 from \"./shouruxq.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/shouru/shouruxq/shouruxq.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./shouruxq.vue?vue&type=template&id=077c4b92&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./shouruxq.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./shouruxq.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view :class=\"'shouru-zujin ' + (recovery.show ? 'recovery' : '')\">\r\n\t\t<app-header>\r\n\t\t\t<app-project-selector @selected=\"onProjectSelected\" :selected=\"selected\" disabled-all></app-project-selector>\r\n\t\t\t<view class v-if=\"params.bisProjectId\"> </view>\r\n\t\t\t<view slot=\"right\" v-if=\"!recovery.show\">\r\n\t\t\t\t<app-picker @changed=\"onDateChanged\" fields=\"year\" :fromDate=\"params.year\"></app-picker>\r\n\t\t\t</view>\r\n\t\t\t<view slot=\"right\" style=\"margin-left: 20rpx\" v-if=\"!recovery.show\">\r\n\t\t\t\t<app-filter-dialog title=\"筛选\" :groups=\"groups\" @selected=\"bindselected\"></app-filter-dialog>\r\n\t\t\t</view>\r\n\t\t\t<view slot=\"right\" style=\"margin-left: 20rpx\" v-if=\"params.type !== 'dj'\">\r\n\t\t\t\t<view class=\"flex\" @tap=\"onRecoveryClick\">\r\n\t\t\t\t\t纠错\r\n\t\t\t\t\t<image src=\"/static/assets/images/icon-find-recovery.png\" style=\"width: 32rpx; height: 32rpx; margin-left: 10rpx\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</app-header>\r\n\t\t<view class=\"tab-list-box\">\r\n\t\t\t<view v-for=\"(item, index) in tabList\" :key=\"index\" :class=\"'tab-list-item ' + (item.type === params.type ? 'border-current' : '')\" :data-type=\"item.type\" @tap=\"changeTab\">\r\n\t\t\t\t{{ item.label }}\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<app-section title=\"收缴率\" :collapseable=\"true\" v-if=\"!recovery.show\">\r\n\t\t\t<view class=\"registered-channels\">\r\n\t\t\t\t<app-echarts :options=\"page.charts.main.options\"></app-echarts>\r\n\t\t\t</view>\r\n\t\t</app-section>\r\n\t\t<app-section title=\"本年收入\">\r\n\t\t\t<view slot=\"head-actions\">\r\n\t\t\t\t<view class=\"select-indicator\">\r\n\t\t\t\t\t<view :class=\"'mount ' + (timeSpan === '0' ? 'active' : '')\" @tap=\"changeSpan\" data-span=\"0\"> 当月 </view>\r\n\t\t\t\t\t<view class=\"line\"> | </view>\r\n\t\t\t\t\t<view :class=\"'year ' + (timeSpan === '1' ? 'active' : '')\" @tap=\"changeSpan\" data-span=\"1\"> 年累计 </view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<app-table :totalRow=\"totalRow\" :values=\"dataList\" :columns=\"columns\" :selected=\"tableSelected\" @row-column-click=\"onRowColumnClick\"></app-table>\r\n\t\t</app-section>\r\n\r\n\t\t<view class=\"recovery-actions\" v-if=\"recovery.show\">\r\n\t\t\t<view class=\"recovery-actions__action\" @tap=\"cancelRecovery\">取消</view>\r\n\t\t\t<view class=\"recovery-actions__action recovery-actions__action--priamry\" @tap=\"postRecovery\">提交</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\nconst app = getApp();\r\nimport regeneratorRuntime from \"@/utils/runtime\";\r\nimport appSection from \"@/components/container/section\";\r\nimport appTable from \"@/components/table/index\";\r\nimport appFilterDialog from \"@/components/filter/dialog\";\r\nimport appEcharts from \"@/components/echarts/echarts\";\r\nimport appHeader from \"@/components/common/header\";\r\nimport appProjectSelector from \"@/components/selector/project\";\r\nimport appPicker from \"@/components/selector/datepicker\";\r\n\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\trecovery: {\r\n\t\t\t\tshow: false,\r\n\t\t\t\tselected: {},\r\n\t\t\t\tcurrent: {},\r\n\t\t\t},\r\n\t\t\tselected: {},\r\n\t\t\tcurrent: {},\r\n\t\t\ttableSelected: {\r\n\t\t\t\tkey: \"businessKey\",\r\n\t\t\t\tkeysMap: {},\r\n\t\t\t},\r\n\t\t\tkeysMap: {},\r\n\t\t\tprojectName: \"\",\r\n\t\t\ttabList: [\r\n\t\t\t\t{\r\n\t\t\t\t\tlabel: \"租金收入\",\r\n\t\t\t\t\ttype: \"zj\",\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tlabel: \"物管收入\",\r\n\t\t\t\t\ttype: \"wg\",\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tlabel: \"多经收入\",\r\n\t\t\t\t\ttype: \"dj\",\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t\tdataList: [],\r\n\t\t\ttype: \"zj\",\r\n\t\t\tyueColumns: [\r\n\t\t\t\t{\r\n\t\t\t\t\tlabel: \"月份\",\r\n\t\t\t\t\tkey: \"yearMonth\",\r\n\t\t\t\t\talign: \"left\",\r\n\t\t\t\t\twidth: \"150\",\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tlabel: \"收缴率\",\r\n\t\t\t\t\tkey: \"colRate\",\r\n\t\t\t\t\talign: \"right\",\r\n\t\t\t\t\tsortable: true,\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tlabel: \"同比\",\r\n\t\t\t\t\tkey: \"mtm\",\r\n\t\t\t\t\talign: \"right\",\r\n\t\t\t\t\tsortable: true,\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t\tnianColumns: [\r\n\t\t\t\t{\r\n\t\t\t\t\tlabel: \"月份\",\r\n\t\t\t\t\tkey: \"yearMonth\",\r\n\t\t\t\t\twidth: \"150\",\r\n\t\t\t\t\talign: \"left\",\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tlabel: \"收缴率\",\r\n\t\t\t\t\talign: \"right\",\r\n\t\t\t\t\tkey: \"ljColRate\",\r\n\t\t\t\t\tsortable: true,\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tlabel: \"同比\",\r\n\t\t\t\t\talign: \"right\",\r\n\t\t\t\t\tkey: \"mtmLj\",\r\n\t\t\t\t\tsortable: true,\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t\tcolumns: [],\r\n\t\t\ttotalRow: null,\r\n\t\t\ttimeSpan: \"0\",\r\n\t\t\tgroups: [],\r\n\t\t\tparams: {\r\n\t\t\t\tstoreType: \"\",\r\n\t\t\t\tstage: \"\",\r\n\t\t\t\ttype: \"zj\",\r\n\t\t\t\tyear: \"\",\r\n\t\t\t},\r\n\t\t\tselected: {},\r\n\t\t\tlineops: {\r\n\t\t\t\tgrid: {\r\n\t\t\t\t\ttop: 30,\r\n\t\t\t\t\tleft: \"20\",\r\n\t\t\t\t\tright: \"20\",\r\n\t\t\t\t\tbottom: 30,\r\n\t\t\t\t\tcontainLabel: true,\r\n\t\t\t\t},\r\n\t\t\t\tlegend: {\r\n\t\t\t\t\t//可设定图例在上、下、居中\r\n\t\t\t\t\ticon: \"circle\",\r\n\t\t\t\t\titemHeight: 12,\r\n\t\t\t\t\tbottom: 0,\r\n\t\t\t\t},\r\n\t\t\t\ttooltip: {\r\n\t\t\t\t\tshow: true,\r\n\t\t\t\t\ttrigger: \"axis\",\r\n\t\t\t\t\tbackgroundColor: \"#fff\",\r\n\t\t\t\t\ttextStyle: {\r\n\t\t\t\t\t\tcolor: \"#000\",\r\n\t\t\t\t\t\tfontSize: 10,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tborderWidth: 2,\r\n\t\t\t\t\tborderColor: \"#3992BA\",\r\n\t\t\t\t\tpadding: 10,\r\n\t\t\t\t\tposition: function (point, params, dom, rect, size) {\r\n\t\t\t\t\t\t//解决超出屏幕问题\r\n\t\t\t\t\t\tvar x = 0; // x坐标位置\r\n\r\n\t\t\t\t\t\tvar y = 5; // y坐标位置\r\n\t\t\t\t\t\t// 当前鼠标位置\r\n\r\n\t\t\t\t\t\tvar pointX = point[0];\r\n\t\t\t\t\t\tvar pointY = point[1];\r\n\t\t\t\t\t\tvar boxWidth = size.contentSize[0];\r\n\t\t\t\t\t\tvar boxHeight = size.contentSize[1];\r\n\r\n\t\t\t\t\t\tif (boxWidth > pointX) {\r\n\t\t\t\t\t\t\tx = pointX + 20;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tx = pointX - boxWidth - 20;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\treturn [x, y];\r\n\t\t\t\t\t},\r\n\t\t\t\t\tformatter: function (params, ticket, callback) {\r\n\t\t\t\t\t\tconsole.log(params);\r\n\t\t\t\t\t\tvar res = \"\"; // var res = '收入 : ';\r\n\t\t\t\t\t\t// var income = 0;\r\n\t\t\t\t\t\t// for (var j = 0; j < params.length; j++) {\r\n\t\t\t\t\t\t//   income += parseInt(params[j].value);\r\n\t\t\t\t\t\t// }\r\n\t\t\t\t\t\t// //使用for可以将需要的数据全部加到res\r\n\t\t\t\t\t\t// //注意下边的<br/>\r\n\t\t\t\t\t\t// res += income + '\\n';\r\n\r\n\t\t\t\t\t\tfor (var i = 0, l = params.length; i < l; i++) {\r\n\t\t\t\t\t\t\tres += params[i].seriesName + \" : \" + params[i].value + \"%\\n\";\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tres += \"同比：\" + (parseInt(params[0].value) - parseInt(params[1].value)) + \"%\";\r\n\t\t\t\t\t\treturn res;\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\txAxis: {\r\n\t\t\t\t\ttype: \"category\",\r\n\t\t\t\t\tboundaryGap: false,\r\n\t\t\t\t\tdata: [\"1月\", \"2月\", \"3月\", \"4月\", \"5月\", \"6月\", \"7月\", \"8月\", \"9月\", \"10月\", \"11月\", \"12月\"],\r\n\t\t\t\t\taxisLabel: {\r\n\t\t\t\t\t\tshow: true,\r\n\t\t\t\t\t\tinterval: 0,\r\n\t\t\t\t\t},\r\n\t\t\t\t\taxisTick: {\r\n\t\t\t\t\t\tshow: true,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsplitLine: {\r\n\t\t\t\t\t\tshow: false,\r\n\t\t\t\t\t},\r\n\t\t\t\t\taxisTick: {\r\n\t\t\t\t\t\tshow: false,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\tyAxis: {\r\n\t\t\t\t\tx: \"center\",\r\n\t\t\t\t\ttype: \"value\",\r\n\t\t\t\t\tinterval: 0,\r\n\t\t\t\t\tsplitLine: {\r\n\t\t\t\t\t\tlineStyle: {\r\n\t\t\t\t\t\t\ttype: \"dashed\",\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t\taxisLabel: {\r\n\t\t\t\t\t\tshow: true,\r\n\t\t\t\t\t\tinterval: 5,\r\n\t\t\t\t\t},\r\n\t\t\t\t\taxisLabel: {\r\n\t\t\t\t\t\tshow: true,\r\n\t\t\t\t\t\tinterval: \"0\",\r\n\t\t\t\t\t\tformatter: \"{value}%\",\r\n\t\t\t\t\t},\r\n\t\t\t\t\taxisLine: {\r\n\t\t\t\t\t\tshow: true,\r\n\t\t\t\t\t\tonZero: true,\r\n\t\t\t\t\t},\r\n\t\t\t\t\taxisTick: {\r\n\t\t\t\t\t\tshow: true,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\tseries: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"20年度\",\r\n\t\t\t\t\t\ttype: \"line\",\r\n\t\t\t\t\t\tsmooth: true,\r\n\t\t\t\t\t\t// data: [100, 200, 400, 900, 200, 300, 500],\r\n\t\t\t\t\t\tcolor: \"#3AABFF\",\r\n\t\t\t\t\t\tareaStyle: {\r\n\t\t\t\t\t\t\tnormal: {\r\n\t\t\t\t\t\t\t\tcolor: new this.$echarts.graphic.LinearGradient(\r\n\t\t\t\t\t\t\t\t\t0,\r\n\t\t\t\t\t\t\t\t\t0,\r\n\t\t\t\t\t\t\t\t\t0,\r\n\t\t\t\t\t\t\t\t\t1,\r\n\t\t\t\t\t\t\t\t\t[\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\toffset: 0,\r\n\t\t\t\t\t\t\t\t\t\t\tcolor: \"rgba(207, 223, 254, 0.48)\",\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\toffset: 1,\r\n\t\t\t\t\t\t\t\t\t\t\tcolor: \"rgba(255, 255, 255, 0.48)\",\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\tfalse,\r\n\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\tshadowColor: \"rgba(108,80,243, 0.9)\",\r\n\t\t\t\t\t\t\t\tshadowBlur: 20,\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"19年度\",\r\n\t\t\t\t\t\ttype: \"line\",\r\n\t\t\t\t\t\tsmooth: true,\r\n\t\t\t\t\t\t// data: [400,300,400,900,300,300,500],\r\n\t\t\t\t\t\tcolor: \"#9BB3C6\",\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t},\r\n\t\t\tgrid: {\r\n\t\t\t\ttop: 30,\r\n\t\t\t\tleft: \"20\",\r\n\t\t\t\tright: \"20\",\r\n\t\t\t\tbottom: 30,\r\n\t\t\t\tcontainLabel: true,\r\n\t\t\t},\r\n\t\t\tlegend: {\r\n\t\t\t\ticon: \"circle\",\r\n\t\t\t\titemHeight: 12,\r\n\t\t\t\tbottom: 0,\r\n\t\t\t},\r\n\t\t\ttooltip: {\r\n\t\t\t\tshow: true,\r\n\t\t\t\ttrigger: \"axis\",\r\n\t\t\t\tbackgroundColor: \"#fff\",\r\n\t\t\t\ttextStyle: {\r\n\t\t\t\t\tcolor: \"#000\",\r\n\t\t\t\t\tfontSize: 10,\r\n\t\t\t\t},\r\n\t\t\t\tborderWidth: 2,\r\n\t\t\t\tborderColor: \"#3992BA\",\r\n\t\t\t\tpadding: 10,\r\n\t\t\t\tposition: function (point, params, dom, rect, size) {\r\n\t\t\t\t\tvar x = 0;\r\n\t\t\t\t\tvar y = 5;\r\n\t\t\t\t\tvar pointX = point[0];\r\n\t\t\t\t\tvar pointY = point[1];\r\n\t\t\t\t\tvar boxWidth = size.contentSize[0];\r\n\t\t\t\t\tvar boxHeight = size.contentSize[1];\r\n\r\n\t\t\t\t\tif (boxWidth > pointX) {\r\n\t\t\t\t\t\tx = pointX + 20;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tx = pointX - boxWidth - 20;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn [x, y];\r\n\t\t\t\t},\r\n\t\t\t\tformatter: function (params, ticket, callback) {\r\n\t\t\t\t\tconsole.log(params);\r\n\t\t\t\t\tvar res = \"\";\r\n\r\n\t\t\t\t\tfor (var i = 0, l = params.length; i < l; i++) {\r\n\t\t\t\t\t\tres += params[i].seriesName + \" : \" + params[i].value + \"%\\n\";\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tres += \"同比：\" + (parseInt(params[0].value) - parseInt(params[1].value)) + \"%\";\r\n\t\t\t\t\treturn res;\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\txAxis: {\r\n\t\t\t\ttype: \"category\",\r\n\t\t\t\tboundaryGap: false,\r\n\t\t\t\tdata: [\"1月\", \"2月\", \"3月\", \"4月\", \"5月\", \"6月\", \"7月\", \"8月\", \"9月\", \"10月\", \"11月\", \"12月\"],\r\n\t\t\t\taxisLabel: {\r\n\t\t\t\t\tshow: true,\r\n\t\t\t\t\tinterval: 0,\r\n\t\t\t\t},\r\n\t\t\t\taxisTick: {\r\n\t\t\t\t\tshow: true,\r\n\t\t\t\t},\r\n\t\t\t\tsplitLine: {\r\n\t\t\t\t\tshow: false,\r\n\t\t\t\t},\r\n\t\t\t\taxisTick: {\r\n\t\t\t\t\tshow: false,\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tyAxis: {\r\n\t\t\t\tx: \"center\",\r\n\t\t\t\ttype: \"value\",\r\n\t\t\t\tinterval: 0,\r\n\t\t\t\tsplitLine: {\r\n\t\t\t\t\tlineStyle: {\r\n\t\t\t\t\t\ttype: \"dashed\",\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\taxisLabel: {\r\n\t\t\t\t\tshow: true,\r\n\t\t\t\t\tinterval: 5,\r\n\t\t\t\t},\r\n\t\t\t\taxisLabel: {\r\n\t\t\t\t\tshow: true,\r\n\t\t\t\t\tinterval: \"0\",\r\n\t\t\t\t\tformatter: \"{value}%\",\r\n\t\t\t\t},\r\n\t\t\t\taxisLine: {\r\n\t\t\t\t\tshow: true,\r\n\t\t\t\t\tonZero: true,\r\n\t\t\t\t},\r\n\t\t\t\taxisTick: {\r\n\t\t\t\t\tshow: true,\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tareaStyle: {\r\n\t\t\t\tnormal: {\r\n\t\t\t\t\tcolor: new this.$echarts.graphic.LinearGradient(\r\n\t\t\t\t\t\t0,\r\n\t\t\t\t\t\t0,\r\n\t\t\t\t\t\t0,\r\n\t\t\t\t\t\t1,\r\n\t\t\t\t\t\t[\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\toffset: 0,\r\n\t\t\t\t\t\t\t\tcolor: \"rgba(207, 223, 254, 0.48)\",\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\toffset: 1,\r\n\t\t\t\t\t\t\t\tcolor: \"rgba(255, 255, 255, 0.48)\",\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t\tfalse,\r\n\t\t\t\t\t),\r\n\t\t\t\t\tshadowColor: \"rgba(108,80,243, 0.9)\",\r\n\t\t\t\t\tshadowBlur: 20,\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tpage: {\r\n\t\t\t\tcharts: {\r\n\t\t\t\t\tmain: {},\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t};\r\n\t},\r\n\r\n\tcomponents: {\r\n\t\tappSection,\r\n\t\tappTable,\r\n\t\tappFilterDialog,\r\n\t\tappEcharts,\r\n\t\tappHeader,\r\n\t\tappProjectSelector,\r\n\t\tappPicker,\r\n\t},\r\n\tprops: {},\r\n\tonLoad: function (options) {\r\n\t\tlet { projectName, bisProjectId, storeType } = options;\r\n\t\tlet selected = {\r\n\t\t\tlabel: projectName,\r\n\t\t\tvalue: bisProjectId,\r\n\t\t};\r\n\t\tthis.setData({\r\n\t\t\tcolumns: this.yueColumns,\r\n\t\t\tprojectName: options.projectName,\r\n\t\t\tselected,\r\n\t\t\t\"params.bisProjectId\": options.bisProjectId,\r\n\t\t\t\"params.storeType\": storeType,\r\n\t\t\t\"params.type\": options.type,\r\n\t\t\t\"params.year\": options.yearMonth.split(\"-\")[0],\r\n\t\t});\r\n\t\tthis.getDataList();\r\n\t\tthis.getStoreType(); // this.getStage();\r\n\t},\r\n\tonShow() {\r\n\t\tthis.getDataList();\r\n\t\tthis.getStoreType(); // this.getStage();\r\n\t},\r\n\tmethods: {\r\n\t\tonDateChanged(e) {\r\n\t\t\tthis.setData({\r\n\t\t\t\t[\"params.year\"]: e.detail.value,\r\n\t\t\t});\r\n\t\t\tthis.getDataList();\r\n\t\t},\r\n\r\n\t\tasync getDataList() {\r\n\t\t\tlet res = await app.globalData.request\r\n\t\t\t\t.options({\r\n\t\t\t\t\tloading: true,\r\n\t\t\t\t})\r\n\t\t\t\t.get(\"/open/bis-open-project!monthCollectionRate.action\", this.params);\r\n\t\t\tlet arr = res.data.curYearColRateList || res.data.monthCollectionRateList;\r\n\t\t\tlet result = arr.map((item, index) => {\r\n\t\t\t\treturn { ...item, ranking: index };\r\n\t\t\t});\r\n\t\t\t// let label = (this.params.yearMonth && this.params.yearMonth.split(\"-\")[0]) || \"2020\";\n\t\t\tlet label = this.params.year\n\t\t\tconst legendData = [label.substring(2) + \"年度\" + \"\", (parseInt(label) - 1 + \"\").substring(2) + \"年度\" + \"\"];\r\n\t\t\tconst setdata = {\r\n\t\t\t\t\"page.charts.main.options\": {\r\n\t\t\t\t\tunit: \"%\",\r\n\t\t\t\t\tlegend: {\r\n\t\t\t\t\t\tdata: legendData,\r\n\t\t\t\t\t\ticon: \"circle\",\r\n\t\t\t\t\t\titemHeight: 7,\r\n\t\t\t\t\t},\r\n\t\t\t\t\txAxis: {\r\n\t\t\t\t\t\ttype: \"category\",\r\n\t\t\t\t\t\tdata: [\"1月\", \"2月\", \"3月\", \"4月\", \"5月\", \"6月\", \"7月\", \"8月\", \"9月\", \"10月\", \"11月\", \"12月\"],\r\n\t\t\t\t\t},\r\n\t\t\t\t\tyAxis: {\r\n\t\t\t\t\t\ttype: \"value\",\r\n\t\t\t\t\t},\r\n\t\t\t\t\tseries: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ttype: \"line\",\r\n\t\t\t\t\t\t\tname: legendData[0],\r\n\t\t\t\t\t\t\tdata: typeof res.data.curYearColRateArr === \"string\" ? JSON.parse(res.data.curYearColRateArr).map((num) => num) : res.data.curYearColRateArr.map((num) => num),\r\n\t\t\t\t\t\t\tareaStyle: {\r\n\t\t\t\t\t\t\t\tcolor: new this.$echarts.graphic.LinearGradient(0, 0, 0, 1, [\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\toffset: 0,\r\n\t\t\t\t\t\t\t\t\t\tcolor: \"#CFDFFE\",\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\toffset: 1,\r\n\t\t\t\t\t\t\t\t\t\tcolor: \"#FFFFFF\",\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t]),\r\n\t\t\t\t\t\t\t}, // data: curMonthColRateForHeadChart\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ttype: \"line\",\r\n\t\t\t\t\t\t\tname: legendData[1],\r\n\t\t\t\t\t\t\tdata: typeof res.data.prevYearColRateArr === \"string\" ? JSON.parse(res.data.prevYearColRateArr).map((num) => num) : res.data.prevYearColRateArr.map((num) => num), // data: curMonthColRateForHeadPrevChart\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t],\r\n\t\t\t\t},\r\n\t\t\t\tdataList: result,\r\n\t\t\t};\r\n\t\t\tconst { params } = this;\r\n\t\t\tawait app.globalData.request\r\n\t\t\t\t.options({\r\n\t\t\t\t\tloading: true,\r\n\t\t\t\t})\r\n\t\t\t\t.get(\"/open/bis-open-mark-info!findPageMarkInfoList.action\", { ...params, pageType: params.type, pageSource: getCurrentPages().pop().route })\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tconst keysMap = res.data.reduce((result, item) => {\r\n\t\t\t\t\t\tresult[item.markX] = item.markY.split(\",\");\r\n\t\t\t\t\t\treturn result;\r\n\t\t\t\t\t}, {});\r\n\t\t\t\t\tsetdata[\"recovery.selected\"] = keysMap;\r\n\t\t\t\t\tsetdata[\"tableSelected.keysMap\"] = keysMap;\r\n\t\t\t\t});\r\n\t\t\tthis.setData(setdata);\r\n\t\t},\r\n\r\n\t\tchangeSpan(e) {\r\n\t\t\tconst span = e.currentTarget.dataset.span;\r\n\t\t\tthis.setData({\r\n\t\t\t\ttimeSpan: span,\r\n\t\t\t});\r\n\r\n\t\t\tif (span === \"0\") {\r\n\t\t\t\tthis.setData({\r\n\t\t\t\t\tcolumns: this.yueColumns,\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tthis.setData({\r\n\t\t\t\t\tcolumns: this.nianColumns,\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tonProjectSelected(e) {\r\n\t\t\tlet detail = e.detail.value && e.detail.value.bisProjectId;\r\n\t\t\tthis.setData({\r\n\t\t\t\t[\"params.bisProjectId\"]: detail,\r\n\t\t\t});\r\n\t\t\tthis.getDataList();\r\n\t\t},\r\n\r\n\t\t// 切换tab\r\n\t\tasync changeTab(e) {\r\n\t\t\tlet type = e.currentTarget.dataset.type;\r\n\t\t\tawait this.setData({\r\n\t\t\t\t[\"params.type\"]: type,\r\n\t\t\t});\r\n\t\t\tthis.getDataList();\r\n\t\t},\r\n\r\n\t\t// 获取搜索物业类型枚举\r\n\t\tasync getStoreType() {\r\n\t\t\tlet res = await app.globalData.request\r\n\t\t\t\t.options({\r\n\t\t\t\t\tloading: true,\r\n\t\t\t\t})\r\n\t\t\t\t.get(\"/open/bis-open-dict!chargeTypeList.action\");\r\n\t\t\tlet result = res.data.map((item) => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tlabel: item.name,\r\n\t\t\t\t\tvalue: \"storeType-\" + item.code,\r\n\t\t\t\t\tselected: item.code === this.params.storeType,\r\n\t\t\t\t};\r\n\t\t\t});\r\n\t\t\tlet group = {\r\n\t\t\t\tlabel: \"物业类型\",\r\n\t\t\t\titems: result,\r\n\t\t\t\tmaxnum: 1,\r\n\t\t\t};\r\n\t\t\tlet groups = this.groups;\r\n\t\t\tgroups.push(group);\r\n\t\t\tthis.setData({\r\n\t\t\t\tgroups,\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t// 获取项目阶段枚举\r\n\t\tasync getStage() {\r\n\t\t\tlet res = await app.globalData.request\r\n\t\t\t\t.options({\r\n\t\t\t\t\tloading: true,\r\n\t\t\t\t})\r\n\t\t\t\t.get(\"/open/bis-open-dict!stageList.action\");\r\n\t\t\tlet result = res.data.map((item) => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tlabel: item.name,\r\n\t\t\t\t\tvalue: \"stage-\" + item.code,\r\n\t\t\t\t};\r\n\t\t\t});\r\n\t\t\tlet group = {\r\n\t\t\t\tlabel: \"项目阶段\",\r\n\t\t\t\titems: result,\r\n\t\t\t\tmaxnum: 1,\r\n\t\t\t};\r\n\t\t\tlet groups = this.groups;\r\n\t\t\tgroups.push(group);\r\n\t\t\tthis.setData({\r\n\t\t\t\tgroups,\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tbindselected(e) {\r\n\t\t\te.detail.forEach((item) => {\r\n\t\t\t\tlet temp = item.split(\"-\");\r\n\t\t\t\tlet key = temp[0];\r\n\t\t\t\tlet value = temp[1];\r\n\r\n\t\t\t\tif (key === \"storeType\") {\r\n\t\t\t\t\tthis.setData({\r\n\t\t\t\t\t\t[\"params.storeType\"]: value,\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (key === \"stage\") {\r\n\t\t\t\t\tthis.setData({\r\n\t\t\t\t\t\t\"params.stage\": value,\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tthis.getDataList();\r\n\t\t},\r\n\r\n\t\tonRowColumnClick(e) {\r\n\t\t\tconst { show, selected } = this.recovery;\r\n\r\n\t\t\tif (show) {\r\n\t\t\t\tconst { row, column } = e.detail;\r\n\r\n\t\t\t\tif (!selected[row.businessKey]) {\r\n\t\t\t\t\tselected[row.businessKey] = [];\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (selected[row.businessKey].includes(column.key)) {\r\n\t\t\t\t\tselected[row.businessKey].splice(selected[row.businessKey].indexOf(column.key), 1);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tselected[row.businessKey].push(column.key);\r\n\t\t\t\t}\r\n\t\t\t\tthis.tableSelected.keysMap = selected;\r\n\t\t\t\tthis.tableSelected.keysMap = Object.assign({}, this.tableSelected.keysMap);\r\n\t\t\t\tthis.tableSelected = Object.assign({}, this.tableSelected);\r\n\t\t\t\t// this.setData({\r\n\t\t\t\t//   \"tableSelected.keysMap\": selected\r\n\t\t\t\t// });\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tonRecoveryClick() {\r\n\t\t\tthis.setData({\r\n\t\t\t\t\"recovery.show\": true,\r\n\t\t\t\t\"recovery.current\": JSON.parse(JSON.stringify(this.recovery.selected)),\r\n\t\t\t});\r\n\t\t\tthis.getDataList();\r\n\t\t\tthis.getStoreType(); // this.getStage();\r\n\t\t},\r\n\r\n\t\tpostRecovery() {\r\n\t\t\tconst { bisProjectId, type: pageType, storeType } = this.params;\r\n\t\t\tconst selectedMap = this.recovery.selected;\r\n\t\t\tconst markInfos = Object.keys(selectedMap)\r\n\t\t\t\t.filter((key) => selectedMap[key].length)\r\n\t\t\t\t.map((key) => {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tmarkX: key,\r\n\t\t\t\t\t\tmarkY: selectedMap[key].join(\",\"),\r\n\t\t\t\t\t\tnotes: \"\",\r\n\t\t\t\t\t};\r\n\t\t\t\t});\r\n\t\t\tapp.globalData.request\r\n\t\t\t\t.options({\r\n\t\t\t\t\tloading: true,\r\n\t\t\t\t})\r\n\t\t\t\t.post(\"/open/bis-open-mark-info!clearAndSavePageMarkInfoList.action\", {\r\n\t\t\t\t\tbisProjectId,\r\n\t\t\t\t\tstoreType,\r\n\t\t\t\t\tmarkInfos: JSON.stringify(markInfos),\r\n\t\t\t\t\tpageType,\r\n\t\t\t\t\tpageSource: getCurrentPages().pop().route,\r\n\t\t\t\t})\r\n\t\t\t\t.then(() => {\r\n\t\t\t\t\tthis.cancelRecovery(false);\r\n\t\t\t\t});\r\n\t\t},\r\n\r\n\t\tcancelRecovery(reset = true) {\r\n\t\t\tconst setdata = {\r\n\t\t\t\t\"recovery.show\": false,\r\n\t\t\t\t\"recovery.selected\": this.tableSelected.keysMap,\r\n\t\t\t};\r\n\r\n\t\t\tif (reset !== false) {\r\n\t\t\t\tsetdata[\"recovery.selected\"] = this.recovery.current;\r\n\t\t\t\tsetdata[\"tableSelected.keysMap\"] = this.recovery.current;\r\n\t\t\t}\r\n\r\n\t\t\tthis.setData(setdata);\r\n\t\t\tthis.getDataList();\r\n\t\t\tthis.getStoreType(); // this.getStage();\r\n\t\t},\r\n\t},\r\n};\r\n</script>\r\n<style>\r\n@import \"./shouruxq.css\";\r\n</style>\r\n","import mod from \"-!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./shouruxq.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./shouruxq.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1611196571687\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}