{"version":3,"sources":["uni-app:///main.js","webpack:////Users/company/ys/2gitPro/bl/pms-h5-web/operating/pages/keliu/paiming/paiming.vue?19a4","webpack:////Users/company/ys/2gitPro/bl/pms-h5-web/operating/pages/keliu/paiming/paiming.vue?1cb3","webpack:////Users/company/ys/2gitPro/bl/pms-h5-web/operating/pages/keliu/paiming/paiming.vue?0c2b","webpack:////Users/company/ys/2gitPro/bl/pms-h5-web/operating/pages/keliu/paiming/paiming.vue?23f7","uni-app:///pages/keliu/paiming/paiming.vue","webpack:////Users/company/ys/2gitPro/bl/pms-h5-web/operating/pages/keliu/paiming/paiming.vue?7567","webpack:////Users/company/ys/2gitPro/bl/pms-h5-web/operating/pages/keliu/paiming/paiming.vue?6d1a"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,yG;AACAA,UAAU,CAACC,gBAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAoH;AACpH;AAC2D;AACL;AACa;;;AAGnE;AACyN;AACzN,gBAAgB,iNAAU;AAC1B,EAAE,6EAAM;AACR,EAAE,kFAAM;AACR,EAAE,2FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,sFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAk3B,CAAgB,qyBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC2Ct4B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8HA,6F;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAhIA;AACA,mBAEA,oBACA,EACA,WADA,EAEA,cAFA,EAGA,WAHA,EADA,EAMA,EACA,WADA,EAEA,kBAFA,EAGA,gBAHA,EAIA,YAJA,EAKA,aALA,EAMA,WANA,EANA,EAcA,EACA,aADA,EAEA,UAFA,EAGA,cAHA,EAIA,YAJA,EAKA,cALA,EAdA,EAqBA,EACA,eADA,EAEA,SAFA,EAGA,cAHA,EAIA,YAJA,EAKA,cALA,EArBA,EA4BA,EACA,WADA,EAEA,SAFA,EAGA,SAHA,EAIA,YAJA,EAKA,cALA,EAMA,cANA,EA5BA,EAoCA,EACA,YADA,EAEA,SAFA,EAGA,UAHA,EAIA,cAJA,EAKA,YALA,EAMA,cANA,EApCA,EA6CA,mBACA,EACA,WADA,EAEA,cAFA,EADA,EAKA,EACA,WADA,EAEA,kBAFA,EAGA,gBAHA,EAIA,YAJA,EAKA,aALA,EALA,EAYA,EACA,eADA,EAEA,SAFA,EAGA,cAHA,EAIA,YAJA,EAKA,cALA,EAZA,EAmBA,EACA,WADA,EAEA,SAFA,EAGA,SAHA,EAIA,YAJA,EAKA,cALA,EAMA,cANA,EAnBA,EA2BA,EACA,YADA,EAEA,SAFA,EAGA,UAHA,EAIA,YAJA,EAKA,cALA,EAMA,cANA,EA3BA,EAoCA,kBACA,EACA,WADA,EAEA,cAFA,EAGA,WAHA,EADA,EAMA,EACA,WADA,EAEA,WAFA,EAGA,gBAHA,EAIA,YAJA,EAKA,aALA,EAMA,WANA,EANA,EAcA,EACA,gBADA,EAEA,cAFA,EAGA,cAHA,EAIA,YAJA,EAKA,cALA,EAdA,EAqBA,EACA,gBADA,EAEA,aAFA,EAGA,cAHA,EAIA,YAJA,EAKA,cALA,EArBA,EA4BA,EACA,aADA,EAEA,SAFA,EAGA,eAHA,EAIA,YAJA,EAKA,cALA,EAMA,cANA,EA5BA,E,2sEA8CA,EACA,IADA,kBACA,UACA,gBACA,gBADA,EAEA,sBAFA,EAGA,QACA,EACA,aADA,EAEA,UAFA,EAGA,SAHA,EAIA,SAJA,EADA,EAOA,EACA,aADA,EAEA,UAFA,EAGA,SAHA,EAIA,aAJA,EAPA,CAHA,EAiBA,cACA,cADA,EAEA,UAFA,EAGA,YAHA,EAIA,eAJA,EAKA,YALA,EAMA,eANA,EAOA,SAPA,EAQA,kDARA,EAjBA,EA2BA,WA3BA,EA4BA,YA5BA,EA6BA,gBA7BA,EA8BA,kBA9BA,EA+BA,gBA/BA,EAgCA,WACA,mBADA,EAEA,SAFA,EAGA,SACA,gBADA,EAEA,kBAFA;AAGA;AACA,sBADA;AAEA;AACA,8BADA;AAEA,4BAFA,EAFA,EAHA;;;AAUA,2FAVA,EAHA;;AAeA;AACA,uBADA;AAEA,4BAFA,EAfA;;AAmBA;AACA;AACA,sBADA;AAEA;AACA,4BADA,EAFA;;AAKA;AACA;AACA;AACA,uBADA;AAEA,8BAFA,EADA;;AAKA;AACA,uBADA;AAEA,8BAFA,EALA,EADA,EALA,EADA;;;;;AAmBA;AACA,sBADA;AAEA;AACA,4BADA,EAFA,EAnBA,CAnBA,EAhCA;;;;;AA8EA;AACA,wBADA;AAEA,0BAFA;AAGA;AACA,oBADA;AAEA;AACA,4BADA;AAEA,0BAFA,EAFA,EAHA;;;AAUA,yFAVA,EA9EA;;AA0FA;AACA,qBADA;AAEA,0BAFA,EA1FA;;AA8FA;AACA,wBADA,EA9FA;;AAiGA;AACA;AACA;AACA,mBADA;AAEA,0BAFA,EADA;;AAKA;AACA,mBADA;AAEA,0BAFA,EALA,EADA,EAjGA;;;;AA6GA;AACA,sBADA,EA7GA;;;AAiHA;AACA,yBADA;AAEA,cAFA;AAGA;AACA,wBADA;AAEA,0BAFA;AAGA;AACA,oBADA;AAEA;AACA,4BADA;AAEA,0BAFA,EAFA,EAHA;;;AAUA,0HAVA,EAHA;;AAeA;AACA,qBADA;AAEA,0BAFA,EAfA;;AAmBA;AACA;AACA,oBADA;AAEA;AACA,0BADA,EAFA;;AAKA;AACA;AACA;AACA,qBADA;AAEA,4BAFA,EADA;;AAKA;AACA,qBADA;AAEA,4BAFA,EALA,EADA,EALA,EADA;;;;;AAmBA;AACA,oBADA;AAEA;AACA,0BADA,EAFA,EAnBA,CAnBA,EAjHA;;;;;AA+JA;AACA,sBADA;AAEA,wBAFA;AAGA;AACA,kBADA;AAEA;AACA,0BADA;AAEA,wBAFA,EAFA,EAHA;;;AAUA,wHAVA,EA/JA;;AA2KA;AACA,mBADA;AAEA,wBAFA,EA3KA;;AA+KA;AACA,sBADA,EA/KA;;AAkLA;AACA;AACA;AACA,iBADA;AAEA,wBAFA,EADA;;AAKA;AACA,iBADA;AAEA,wBAFA,EALA,EADA,EAlLA;;;;AA8LA;AACA,sBADA,EA9LA;;AAiMA;AACA,iBADA;AAEA,yBAFA;AAGA,oBAHA;AAIA,kBAJA,EAjMA;;AAuMA,QAvMA;AAwMA,QAxMA;AAyMA,MAzMA;AA0MA,MA1MA;AA2MA,MA3MA;AA4MA,MA5MA;AA6MA,MA7MA;AA8MA,QA9MA;;AAgNA,GAlNA;;AAoNA;AACA,wBADA;AAEA,0BAFA;AAGA,0BAHA;AAIA,sBAJA;AAKA,oCALA;AAMA,gCANA;AAOA,8CAPA,EApNA;;AA6NA,WA7NA;;AA+NA;;;AAGA;AACA;AACA;AACA;AACA,kDAFA;AAGA;AACA,mDAJA;;AAMA,qBARA,CAQA;AACA,mBATA,CASA;AACA;AACA;AACA,qBADA;AAEA,kBAFA;AAGA,iBAHA;AAIA,iBAJA,EADA;;;AAQA,GApPA;AAqPA;AACA,gBADA,0BACA;AACA;AACA,KAHA;;AAKA,qBALA,6BAKA,CALA,EAKA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,2CADA;;AAGA;AACA,KAjBA;;AAmBA,sBAnBA,8BAmBA,CAnBA,EAmBA;AACA;AACA;AACA,wBADA;;AAGA;AACA;;AAEA;AACA;AACA,gBADA;AAEA,kBAFA;;AAIA;AACA;AACA,kBADA;;AAGA;AACA;AACA;AACA,OAHA,EAGA,IAHA;AAIA,KAxCA;;AA0CA,iBA1CA,yBA0CA,CA1CA,EA0CA;AACA;AACA;AACA,iDADA;AAEA,iDAFA;;AAIA;AACA,KAjDA;;AAmDA,oBAnDA,4BAmDA,CAnDA,EAmDA;AACA;AACA;;AAEA;AACA;AACA,qCADA;AAEA,sCAFA;AAGA,oCAHA;AAIA,gCAJA;;AAMA,OAPA,MAOA;AACA;AACA;AACA;AACA;AACA;AACA,SAJA;;AAMA;AACA;AACA,aADA,GACA,OADA;;AAGA;AACA;AACA;AACA,KA7EA;;AA+EA,qBA/EA,6BA+EA,CA/EA,EA+EA;AACA;;AAEA;AACA;AACA;AACA,8BADA;AAEA,yCAFA;AAGA,4CAHA;AAIA,4CAJA;;AAMA,SAPA,MAOA;AACA;AACA,8BADA;AAEA,wCAFA;AAGA,4CAHA;AAIA,2CAJA;;AAMA,SAPA,MAOA;AACA;AACA,8BADA;AAEA,uCAFA;AAGA,4CAHA;AAIA,wCAJA;;AAMA;AACA;AACA,KA1GA;;AA4GA,oBA5GA,4BA4GA,CA5GA,EA4GA;AACA;AACA,4DAFA,CAEA;;AAEA;AACA,qCADA;AAEA,6CAFA;AAGA,uBAHA;AAIA,kDAJA;;AAMA,KAtHA;;AAwHA;AACA,aAzHA,uBAyHA;AACA;AACA,aADA,CACA;AACA,qBADA,EADA;;AAIA,SAJA,CAIA,4CAJA,EAIA,eAJA;AAKA,UALA,CAKA;AACA;AACA;AACA,sGAHA,CAGA;;AAEA,uCALA,CAKA;;AAEA,uBAPA,CAOA;;AAEA;AACA;AACA;AACA,SAFA;AAGA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,iCADA;AAEA,yBAFA;AAGA,wBAHA;AAIA,wBAJA;AAKA,yBALA;;AAOA;AACA,iCADA;AAEA,wBAFA;AAGA,wBAHA;AAIA,yBAJA;;AAMA,WAdA,MAcA;AACA;AACA,wBADA;AAEA,iCAFA;AAGA,yBAHA;AAIA,wBAJA;AAKA,wBALA;AAMA,yBANA;;AAQA;AACA,wBADA;AAEA,iCAFA;AAGA,wBAHA;AAIA,wBAJA;AAKA,yBALA;;AAOA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,4BAFA;AAGA,2BAHA;AAIA,wBAJA;AAKA,gCALA;AAMA,gCANA;AAOA,gCAPA;AAQA,sCARA;AASA,mCATA;AAUA;AACA;AACA,aAFA,CAVA;;AAcA,SAhBA,MAgBA;AACA;AACA;AACA,kDAFA;AAGA,wDAHA;AAIA,2DAJA;AAKA,wDALA;AAMA,mEANA;AAOA,4BAPA;AAQA,2BARA;AASA,wBATA;AAUA,gCAVA;AAWA,gCAXA;AAYA,gCAZA;AAaA,sCAbA;AAcA,mCAdA;AAeA;AACA;AACA,aAFA,CAfA;;AAmBA;AACA,OAjGA;AAkGA,KA5NA;;AA8NA;AACA,WA/NA,qBA+NA;AACA;AACA,aADA,CACA;AACA,qBADA,EADA;;AAIA,SAJA,CAIA,4CAJA,EAIA,eAJA;AAKA,UALA,CAKA;AACA;AACA;AACA;AACA;AACA;AACA,gDAFA;AAGA,sDAHA;AAIA,iEAJA;AAKA,sDALA;AAMA,gEANA;;AAQA,OAjBA;AAkBA,KAlPA;;AAoPA,YApPA,sBAoPA;AACA;AACA,kBADA;;AAGA,KAxPA;;AA0PA,aA1PA,uBA0PA;AACA;AACA,mBADA;;AAGA,KA9PA;;AAgQA;AACA,yBAjQA,iCAiQA,CAjQA,EAiQA;AACA;AACA,wBAFA,GAEA,IAFA;AAGA;AACA;AACA;AACA;AACA,6EADA;AAEA,2CAFA;;AAIA;AACA,iBARA,EAHA,CAWA;AAXA;AAaA,qCAbA;AAcA;AACA,kDADA,GAdA;;AAiBA,iCAjBA;AAkBA,qCAlBA;AAmBA;AACA,gDADA,GAnBA;;AAsBA,mCAtBA;;AAwBA,KAzRA,EArPA,E;;;;;;;;;;;;;AC3KA;AAAA;AAAA;AAAA;AAAivC,CAAgB,kmCAAG,EAAC,C;;;;;;;;;;;ACArwC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/keliu/paiming/paiming.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/keliu/paiming/paiming.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./paiming.vue?vue&type=template&id=00fc7111&\"\nvar renderjs\nimport script from \"./paiming.vue?vue&type=script&lang=js&\"\nexport * from \"./paiming.vue?vue&type=script&lang=js&\"\nimport style0 from \"./paiming.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/keliu/paiming/paiming.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./paiming.vue?vue&type=template&id=00fc7111&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./paiming.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./paiming.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<app-header>\r\n\t\t\t<!-- <app-project-selector bindselected=\"onProjectSelected\" /> -->\r\n\t\t\t<view slot=\"right\" style=\"display: flex\">\r\n\t\t\t\t<app-date-picker :fromDate=\"queryModel.yearMonthDay\" fields=\"day\" @changed=\"onDateChanged\"></app-date-picker>\r\n\t\t\t\t<!-- <app-filter-dialog style=\"margin-left: 32rpx;\" groups=\"{{ options }}\" title=\"筛选\" bindselected=\"onSelectedChange\"></app-filter-dialog> -->\r\n\t\t\t</view>\r\n\t\t</app-header>\r\n\r\n\t\t<!-- <view class=\"updata-time\">数据更新时间：{{ updateTime }} 数据来源系统：PMS系统</view> -->\r\n\r\n\t\t<view class=\"wrapper\" v-if=\"!show\">\r\n\t\t\t<app-section :collapseable=\"collapseable\">\r\n\t\t\t\t<view class=\"head-actions_left_view\" slot=\"head-actions_left\">\r\n\t\t\t\t\t<app-filter-chartdialog :title=\"chartsTitle\" :items=\"items\" @chartselected=\"onChartSelectedChange\"> </app-filter-chartdialog>\r\n\t\t\t\t</view>\r\n\t\t\t\t<app-echarts height=\"400rpx\" :options=\"lineOpations\"></app-echarts>\r\n\t\t\t</app-section>\r\n\t\t</view>\r\n\r\n\t\t<view class=\"wrapper\" style=\"margin-top: 12rpx\">\r\n\t\t\t<!-- <app-header tabs=\"{{ [{ label: '购物列表' }, { label: '项目排名' }] }}\" bind:tab-changed=\"onTabChanged\"></app-header> -->\r\n\t\t\t<app-section title=\"项目排名\">\r\n\t\t\t\t<view slot=\"head-actions\">\r\n\t\t\t\t\t<view class=\"list-mode\">\r\n\t\t\t\t\t\t<text :class=\"'list-mode-item ' + (table.mode === 'day' ? 'active' : '')\" @tap=\"onListModeChanged\" data-value=\"day\">当日</text>｜\r\n\t\t\t\t\t\t<text :class=\"'list-mode-item ' + (table.mode === 'month' ? 'active' : '')\" @tap=\"onListModeChanged\" data-value=\"month\">当月</text>｜\r\n\t\t\t\t\t\t<text :class=\"'list-mode-item ' + (table.mode === 'year' ? 'active' : '')\" @tap=\"onListModeChanged\" data-value=\"year\">年累计</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<app-table :values=\"table.dataList\" :columns=\"table.columns\" :totalRow=\"table.totalRow\" :fixednum=\"2\" @row-column-click=\"onRowColumnClick\"> </app-table>\r\n\t\t\t</app-section>\r\n\t\t</view>\r\n\t\t<app-filter-dialog :checkboxes=\"dataList\" @selected=\"showComparisonList\" v-if=\"params.type !== 'dj'\" tip=\"注意：最少选两项\" @open=\"bindopen\" @close=\"bindclose\">\r\n\t\t\t<view class=\"comparison\"> 对比 </view>\r\n\t\t</app-filter-dialog>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n// pages/shuju/keliu/paiming.js\r\nconst app = getApp();\r\nimport regeneratorRuntime from \"@/utils/runtime\";\r\nconst monthColumns = [\r\n\t{\r\n\t\tlabel: \"序号\",\r\n\t\twidth: \"90rpx\",\r\n\t\tfixed: true,\r\n\t},\r\n\t{\r\n\t\tlabel: \"项目\",\r\n\t\tkey: \"projectName\",\r\n\t\tcolor: \"#3992BA\",\r\n\t\twidth: \"180\",\r\n\t\talign: \"left\",\r\n\t\tfixed: true,\r\n\t},\r\n\t{\r\n\t\tlabel: \"客流密度\",\r\n\t\tkey: \"stl\",\r\n\t\tsortable: true,\r\n\t\twidth: \"180\",\r\n\t\talign: \"right\",\r\n\t},\r\n\t{\r\n\t\tlabel: \"客流(万人)\",\r\n\t\tkey: \"kl\",\r\n\t\tsortable: true,\r\n\t\twidth: \"180\",\r\n\t\talign: \"right\",\r\n\t},\r\n\t{\r\n\t\tlabel: \"同比\",\r\n\t\tunit: \"%\",\r\n\t\tkey: \"tb\",\r\n\t\twidth: \"140\",\r\n\t\tsortable: true,\r\n\t\talign: \"right\",\r\n\t},\r\n\t{\r\n\t\tlabel: \"达成率\",\r\n\t\tunit: \"%\",\r\n\t\tkey: \"dcl\",\r\n\t\tsortable: true,\r\n\t\twidth: \"120\",\r\n\t\talign: \"right\",\r\n\t},\r\n];\r\nconst yearColumns = [\r\n\t{\r\n\t\tlabel: \"序号\",\r\n\t\twidth: \"90rpx\",\r\n\t},\r\n\t{\r\n\t\tlabel: \"项目\",\r\n\t\tkey: \"projectName\",\r\n\t\tcolor: \"#3992BA\",\r\n\t\twidth: \"180\",\r\n\t\talign: \"left\",\r\n\t},\r\n\t{\r\n\t\tlabel: \"客流(万人)\",\r\n\t\tkey: \"kl\",\r\n\t\tsortable: true,\r\n\t\twidth: \"180\",\r\n\t\talign: \"right\",\r\n\t},\r\n\t{\r\n\t\tlabel: \"同比\",\r\n\t\tunit: \"%\",\r\n\t\tkey: \"tb\",\r\n\t\twidth: \"120\",\r\n\t\tsortable: true,\r\n\t\talign: \"right\",\r\n\t},\r\n\t{\r\n\t\tlabel: \"达成率\",\r\n\t\tunit: \"%\",\r\n\t\tkey: \"dcl\",\r\n\t\twidth: \"120\",\r\n\t\tsortable: true,\r\n\t\talign: \"right\",\r\n\t},\r\n];\r\nconst dayColumns = [\r\n\t{\r\n\t\tlabel: \"序号\",\r\n\t\twidth: \"90rpx\",\r\n\t\tfixed: true,\r\n\t},\r\n\t{\r\n\t\tlabel: \"项目\",\r\n\t\tkey: \"name\",\r\n\t\tcolor: \"#3992BA\",\r\n\t\twidth: \"180\",\r\n\t\talign: \"left\",\r\n\t\tfixed: true,\r\n\t},\r\n\t{\r\n\t\tlabel: \"当日客流（万）\",\r\n\t\tkey: \"currDay\",\r\n\t\tsortable: true,\r\n\t\twidth: \"240\",\r\n\t\talign: \"right\",\r\n\t},\r\n\t{\r\n\t\tlabel: \"昨日客流（万）\",\r\n\t\tkey: \"preDay\",\r\n\t\tsortable: true,\r\n\t\twidth: \"240\",\r\n\t\talign: \"right\",\r\n\t},\r\n\t{\r\n\t\tlabel: \"昨日环比\",\r\n\t\tunit: \"%\",\r\n\t\tkey: \"preDayHb\",\r\n\t\twidth: \"180\",\r\n\t\tsortable: true,\r\n\t\talign: \"right\",\r\n\t},\r\n];\r\nimport appHeader from \"@/components/common/header\";\r\nimport appSection from \"@/components/container/section\";\r\nimport appEcharts from \"@/components/echarts/echarts\";\r\nimport appTable from \"@/components/table/index\";\r\nimport appFilterDialog from \"@/components/filter/dialog\";\r\nimport appDatePicker from \"@/components/selector/datepicker\";\r\nimport appFilterChartdialog from \"@/components/filter/chartdialog\";\r\nimport * as echarts from \"@/node_modules/echarts\";\r\n\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tchartsType: \"xm\",\r\n\t\t\tchartsTitle: \"项目客流(人)\",\r\n\t\t\titems: [\r\n\t\t\t\t{\r\n\t\t\t\t\ttitle: \"项目客流\",\r\n\t\t\t\t\ttype: \"xm\",\r\n\t\t\t\t\tvalue: \"\",\r\n\t\t\t\t\tunit: \"人\",\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttitle: \"客流密度\",\r\n\t\t\t\t\ttype: \"kl\",\r\n\t\t\t\t\tvalue: \"\",\r\n\t\t\t\t\tunit: \"人/天/㎡\",\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t\tqueryModel: {\r\n\t\t\t\tprovinceCd: \"\",\r\n\t\t\t\tattrNew: 7,\r\n\t\t\t\tattrNew2: \"\",\r\n\t\t\t\tsortNew: \"desc\",\r\n\t\t\t\tsortNew2: \"\",\r\n\t\t\t\toperateArea: \"\",\r\n\t\t\t\tstage: \"\",\r\n\t\t\t\tyearMonthDay: app.globalData.getDefaultDate(\"day\"),\r\n\t\t\t},\r\n\t\t\tshow: false,\r\n\t\t\tdataList: [],\r\n\t\t\tupdateTime: null,\r\n\t\t\tcollapseable: true,\r\n\t\t\tlineOpations: {},\r\n\t\t\tlineops: {\r\n\t\t\t\tdecimals: \"paiming\",\r\n\t\t\t\tunit: \"%\",\r\n\t\t\t\txAxis: {\r\n\t\t\t\t\ttype: \"category\",\r\n\t\t\t\t\tboundaryGap: false,\r\n\t\t\t\t\tsplitLine: {\r\n\t\t\t\t\t\tshow: true,\r\n\t\t\t\t\t\tlineStyle: {\r\n\t\t\t\t\t\t\tcolor: \"#C9CCDA\",\r\n\t\t\t\t\t\t\ttype: \"dashed\",\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t\tdata: [\"1月\", \"2月\", \"3月\", \"4月\", \"5月\", \"6月\", \"7月\", \"8月\", \"9月\", \"10月\", \"11月\", \"12月\"],\r\n\t\t\t\t},\r\n\t\t\t\tyAxis: {\r\n\t\t\t\t\ttype: \"value\",\r\n\t\t\t\t\tboundaryGap: false,\r\n\t\t\t\t},\r\n\t\t\t\tseries: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttype: \"line\",\r\n\t\t\t\t\t\tlineStyle: {\r\n\t\t\t\t\t\t\tcolor: \"#3AABFF\",\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tareaStyle: {\r\n\t\t\t\t\t\t\tcolor: new this.$echarts.graphic.LinearGradient(0, 0, 0, 1, [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\toffset: 0,\r\n\t\t\t\t\t\t\t\t\tcolor: \"#CFDFFE\",\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\toffset: 1,\r\n\t\t\t\t\t\t\t\t\tcolor: \"#FFFFFF\",\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t]),\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttype: \"line\",\r\n\t\t\t\t\t\tlineStyle: {\r\n\t\t\t\t\t\t\tcolor: \"#9BB3C6\",\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t},\r\n\t\t\txAxis: {\r\n\t\t\t\ttype: \"category\",\r\n\t\t\t\tboundaryGap: false,\r\n\t\t\t\tsplitLine: {\r\n\t\t\t\t\tshow: true,\r\n\t\t\t\t\tlineStyle: {\r\n\t\t\t\t\t\tcolor: \"#C9CCDA\",\r\n\t\t\t\t\t\ttype: \"dashed\",\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\tdata: [\"1月\", \"2月\", \"3月\", \"4月\", \"5月\", \"6月\", \"7月\", \"8月\", \"9月\", \"10月\", \"11月\", \"12月\"],\r\n\t\t\t},\r\n\t\t\tyAxis: {\r\n\t\t\t\ttype: \"value\",\r\n\t\t\t\tboundaryGap: false,\r\n\t\t\t},\r\n\t\t\tlineStyle: {\r\n\t\t\t\tcolor: \"#3AABFF\",\r\n\t\t\t},\r\n\t\t\tareaStyle: {\r\n\t\t\t\tcolor: new this.$echarts.graphic.LinearGradient(0, 0, 0, 1, [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\toffset: 0,\r\n\t\t\t\t\t\tcolor: \"#CFDFFE\",\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\toffset: 1,\r\n\t\t\t\t\t\tcolor: \"#FFFFFF\",\r\n\t\t\t\t\t},\r\n\t\t\t\t]),\r\n\t\t\t},\r\n\t\t\tlineStyle: {\r\n\t\t\t\tcolor: \"#9BB3C6\",\r\n\t\t\t},\r\n\t\t\t//项目客流 以时间为单位\r\n\t\t\tlineopsXm: {\r\n\t\t\t\tdecimals: \"paiming\",\r\n\t\t\t\ttb: true,\r\n\t\t\t\txAxis: {\r\n\t\t\t\t\ttype: \"category\",\r\n\t\t\t\t\tboundaryGap: false,\r\n\t\t\t\t\tsplitLine: {\r\n\t\t\t\t\t\tshow: true,\r\n\t\t\t\t\t\tlineStyle: {\r\n\t\t\t\t\t\t\tcolor: \"#C9CCDA\",\r\n\t\t\t\t\t\t\ttype: \"dashed\",\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t\tdata: [\"10:00\", \"11:00\", \"12:00\", \"13:00\", \"14:00\", \"15:00\", \"16:00\", \"17:00\", \"18:00\", \"19:00\", \"20:00\", \"21:00\"],\r\n\t\t\t\t},\r\n\t\t\t\tyAxis: {\r\n\t\t\t\t\ttype: \"value\",\r\n\t\t\t\t\tboundaryGap: false,\r\n\t\t\t\t},\r\n\t\t\t\tseries: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttype: \"line\",\r\n\t\t\t\t\t\tlineStyle: {\r\n\t\t\t\t\t\t\tcolor: \"#3AABFF\",\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tareaStyle: {\r\n\t\t\t\t\t\t\tcolor: new this.$echarts.graphic.LinearGradient(0, 0, 0, 1, [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\toffset: 0,\r\n\t\t\t\t\t\t\t\t\tcolor: \"#CFDFFE\",\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\toffset: 1,\r\n\t\t\t\t\t\t\t\t\tcolor: \"#FFFFFF\",\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t]),\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttype: \"line\",\r\n\t\t\t\t\t\tlineStyle: {\r\n\t\t\t\t\t\t\tcolor: \"#9BB3C6\",\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t},\r\n\t\t\txAxis: {\r\n\t\t\t\ttype: \"category\",\r\n\t\t\t\tboundaryGap: false,\r\n\t\t\t\tsplitLine: {\r\n\t\t\t\t\tshow: true,\r\n\t\t\t\t\tlineStyle: {\r\n\t\t\t\t\t\tcolor: \"#C9CCDA\",\r\n\t\t\t\t\t\ttype: \"dashed\",\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\tdata: [\"10:00\", \"11:00\", \"12:00\", \"13:00\", \"14:00\", \"15:00\", \"16:00\", \"17:00\", \"18:00\", \"19:00\", \"20:00\", \"21:00\"],\r\n\t\t\t},\r\n\t\t\tyAxis: {\r\n\t\t\t\ttype: \"value\",\r\n\t\t\t\tboundaryGap: false,\r\n\t\t\t},\r\n\t\t\tlineStyle: {\r\n\t\t\t\tcolor: \"#3AABFF\",\r\n\t\t\t},\r\n\t\t\tareaStyle: {\r\n\t\t\t\tcolor: new this.$echarts.graphic.LinearGradient(0, 0, 0, 1, [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\toffset: 0,\r\n\t\t\t\t\t\tcolor: \"#CFDFFE\",\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\toffset: 1,\r\n\t\t\t\t\t\tcolor: \"#FFFFFF\",\r\n\t\t\t\t\t},\r\n\t\t\t\t]),\r\n\t\t\t},\r\n\t\t\tlineStyle: {\r\n\t\t\t\tcolor: \"#9BB3C6\",\r\n\t\t\t},\r\n\t\t\ttable: {\r\n\t\t\t\tmode: \"day\",\r\n\t\t\t\tcolumns: dayColumns,\r\n\t\t\t\ttotalRow: null,\r\n\t\t\t\tdataList: [],\r\n\t\t\t},\r\n\t\t\tmTotalRow: null,\r\n\t\t\tyTotalRow: null,\r\n\t\t\tmonthData: [],\r\n\t\t\tyearData: [],\r\n\t\t\tdData: [],\r\n\t\t\tdTotalRow: {},\r\n\t\t\tparams: {},\n\t\t\tfirstLoad: true\r\n\t\t};\r\n\t},\r\n\r\n\tcomponents: {\r\n\t\tappHeader,\r\n\t\tappSection,\r\n\t\tappEcharts,\r\n\t\tappTable,\r\n\t\tappFilterDialog,\r\n\t\tappDatePicker,\r\n\t\tappFilterChartdialog,\r\n\t},\r\n\tprops: {},\r\n\r\n\t/**\r\n\t * 生命周期函数--监听页面加载\r\n\t */\r\n\tonLoad: function (options) {\r\n\t\tconsole.log(\"options=\", options);\r\n\t\tthis.setData({\r\n\t\t\t// updateTime: yearAndMonth + date.getDate(),\r\n\t\t\t\"queryModel.yearAndMonth\": options.yearMonth,\r\n\t\t\t//默认显示客流密度信息\r\n\t\t\tlineOpations: { ...this.lineops },\r\n\t\t});\r\n\t\tthis.queryData();// 客流\n\t\tthis.getXMKL();// 项目\r\n\t\tthis.onChartSelectedChange({\r\n\t\t\tdetail: {\r\n\t\t\t\ttitle: \"项目客流\",\r\n\t\t\t\ttype: \"xm\",\r\n\t\t\t\tunit: \"人\",\r\n\t\t\t\tvalue: \"\",\r\n\t\t\t},\r\n\t\t});\r\n\t},\r\n\tmethods: {\r\n\t\tyearMonthDay() {\r\n\t\t\treturn app.globalData.getDefaultDate(\"day\");\r\n\t\t},\r\n\r\n\t\tonProjectSelected(e) {\r\n\t\t\t// console.log(e)\r\n\t\t\tlet provinceCd = \"\";\r\n\r\n\t\t\tif (e.detail.label !== \"全部\") {\r\n\t\t\t\tprovinceCd = e.detail.label;\r\n\t\t\t}\r\n\r\n\t\t\tthis.setData({\r\n\t\t\t\t\"queryModel.provinceCd\": provinceCd,\r\n\t\t\t});\r\n\t\t\tthis.queryData();\r\n\t\t},\r\n\r\n\t\tshowComparisonList(e) {\r\n\t\t\tif (e.detail.length < 2) {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: \"最少选两项\",\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tlet ids = e.detail.map((item) => item.id).join(\",\");\r\n\t\t\tlet params = {\r\n\t\t\t\tids,\r\n\t\t\t\ttype: \"kl\",\r\n\t\t\t};\r\n\t\t\tthis.bindclose();\r\n\t\t\tuni.showLoading({\r\n\t\t\t\tmask: true,\r\n\t\t\t});\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tuni.hideLoading();\r\n\t\t\t\tapp.globalData.page.go(\"/pages/shouru/duibi/duibi\", { ...this.queryModel, ...params });\r\n\t\t\t}, 2000);\r\n\t\t},\r\n\r\n\t\tonDateChanged(e) {\r\n\t\t\t// console.log(e)\r\n\t\t\tthis.setData({\r\n\t\t\t\t\"queryModel.yearAndMonth\": e.detail.value,\r\n\t\t\t\t\"queryModel.yearMonthDay\": e.detail.value,\r\n\t\t\t});\r\n\t\t\tthis.queryData();\r\n\t\t},\r\n\r\n\t\tonSelectedChange(e) {\r\n\t\t\t// console.log(e)\r\n\t\t\tconst detail = e.detail;\r\n\r\n\t\t\tif (detail.length === 0) {\r\n\t\t\t\tthis.setData({\r\n\t\t\t\t\t\"queryModel.provinceCd\": \"\",\r\n\t\t\t\t\t\"queryModel.operateArea\": \"\",\r\n\t\t\t\t\t\"queryModel.storeType\": \"\",\r\n\t\t\t\t\t\"queryModel.stage\": \"\",\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tlet kv = {};\r\n\t\t\t\tdetail.forEach((item) => {\r\n\t\t\t\t\tconst key = item.split(\"-\")[0];\r\n\t\t\t\t\tconst val = item.split(\"-\")[1];\r\n\t\t\t\t\tkv[key] = val;\r\n\t\t\t\t});\r\n\r\n\t\t\t\tfor (const key in kv) {\r\n\t\t\t\t\tthis.setData({\r\n\t\t\t\t\t\t[`queryModel.${key}`]: kv[key],\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.queryData();\r\n\t\t},\r\n\r\n\t\tonListModeChanged(e) {\r\n\t\t\tconst mode = e.target.dataset.value;\r\n\r\n\t\t\tif (this.table.mode !== mode) {\r\n\t\t\t\tif (mode === \"month\") {\r\n\t\t\t\t\tthis.setData({\r\n\t\t\t\t\t\t\"table.mode\": mode,\r\n\t\t\t\t\t\t\"table.columns\": monthColumns,\r\n\t\t\t\t\t\t\"table.totalRow\": this.mTotalRow,\r\n\t\t\t\t\t\t\"table.dataList\": this.monthData,\r\n\t\t\t\t\t});\r\n\t\t\t\t} else if (mode === \"year\") {\r\n\t\t\t\t\tthis.setData({\r\n\t\t\t\t\t\t\"table.mode\": mode,\r\n\t\t\t\t\t\t\"table.columns\": yearColumns,\r\n\t\t\t\t\t\t\"table.totalRow\": this.yTotalRow,\r\n\t\t\t\t\t\t\"table.dataList\": this.yearData,\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.setData({\r\n\t\t\t\t\t\t\"table.mode\": mode,\r\n\t\t\t\t\t\t\"table.columns\": dayColumns,\r\n\t\t\t\t\t\t\"table.totalRow\": this.dTotalRow,\r\n\t\t\t\t\t\t\"table.dataList\": this.dData,\r\n\t\t\t\t\t});\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tonRowColumnClick(e) {\r\n\t\t\t// console.log(e)\r\n\t\t\tconst year = this.queryModel.yearAndMonth.split(\"-\")[0]; // console.log(year)\r\n\r\n\t\t\tapp.globalData.page.go(\"../month/month\", {\r\n\t\t\t\tbisProjectId: e.detail.row.id,\r\n\t\t\t\tprojectName: e.detail.row.projectName,\r\n\t\t\t\tyearMonth: year,\r\n\t\t\t\tyearAndMonth: this.queryModel.yearAndMonth,\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t//获取客流密度相关图表数据以及列表数据\r\n\t\tqueryData() {\n\t\t\tapp.globalData.request\r\n\t\t\t\t.options({\r\n\t\t\t\t\tloading: true,\r\n\t\t\t\t})\r\n\t\t\t\t.get(\"/open/bis-open-report!pfOfMonOrYear.action\", this.queryModel)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tconst data = res.data;\r\n\t\t\t\t\tconst chartData = data.chartData;\r\n\t\t\t\t\tconst legendData = [chartData.year.substring(2) + \"年度\", chartData.prevYear.substring(2) + \"年度\"]; // 表格数据\r\n\r\n\t\t\t\t\tconst pfMon = data.pfOfMon.pfMon; // 当月\r\n\r\n\t\t\t\t\tlet mData = []; // 年累计\r\n\r\n\t\t\t\t\tlet yData = [];\r\n\t\t\t\t\tlet dData = res.data.pfDay.slice(1).map((item) => {\r\n\t\t\t\t\t\treturn { ...item, projectName: item.name, bisProjectId: item.id };\r\n\t\t\t\t\t});\r\n\t\t\t\t\tlet dTotalRow = res.data.pfDay.slice(0, 1)[0];\r\n\t\t\t\t\tlet mTotalRow = null;\r\n\t\t\t\t\tlet yTotalRow = null;\r\n\r\n\t\t\t\t\tfor (let i = 0, len = pfMon.length; i < len; i++) {\r\n\t\t\t\t\t\tconst arr = pfMon[i];\r\n\r\n\t\t\t\t\t\tif (i === 0) {\r\n\t\t\t\t\t\t\tmTotalRow = {\r\n\t\t\t\t\t\t\t\tprojectName: arr[1],\r\n\t\t\t\t\t\t\t\tstl: arr[8],\r\n\t\t\t\t\t\t\t\tkl: arr[2],\r\n\t\t\t\t\t\t\t\ttb: arr[4],\r\n\t\t\t\t\t\t\t\tdcl: arr[6],\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\tyTotalRow = {\r\n\t\t\t\t\t\t\t\tprojectName: arr[1],\r\n\t\t\t\t\t\t\t\tkl: arr[3],\r\n\t\t\t\t\t\t\t\ttb: arr[5],\r\n\t\t\t\t\t\t\t\tdcl: arr[7],\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tmData.push({\r\n\t\t\t\t\t\t\t\tid: arr[0],\r\n\t\t\t\t\t\t\t\tprojectName: arr[1],\r\n\t\t\t\t\t\t\t\tstl: arr[8],\r\n\t\t\t\t\t\t\t\tkl: arr[2],\r\n\t\t\t\t\t\t\t\ttb: arr[4],\r\n\t\t\t\t\t\t\t\tdcl: arr[6],\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tyData.push({\r\n\t\t\t\t\t\t\t\tid: arr[0],\r\n\t\t\t\t\t\t\t\tprojectName: arr[1],\r\n\t\t\t\t\t\t\t\tkl: arr[3],\r\n\t\t\t\t\t\t\t\ttb: arr[5],\r\n\t\t\t\t\t\t\t\tdcl: arr[7],\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tlet Adata = this.table.mode === \"year\" ? yData : this.table.mode === \"month\" ? mData : dData;\r\n\t\t\t\t\tlet totalRow = this.table.mode === \"year\" ? yTotalRow : this.table.mode === \"month\" ? mTotalRow : dTotalRow;\n\t\t\t\t\tif(this.firstLoad){\n\t\t\t\t\t\tthis.firstLoad = false\n\t\t\t\t\t\tthis.setData({\n\t\t\t\t\t\t\t// options,\n\t\t\t\t\t\t\tmonthData: mData,\n\t\t\t\t\t\t\tyearData: yData,\n\t\t\t\t\t\t\tdData: dData,\n\t\t\t\t\t\t\tmTotalRow,\n\t\t\t\t\t\t\tyTotalRow,\n\t\t\t\t\t\t\tdTotalRow,\n\t\t\t\t\t\t\t\"table.totalRow\": totalRow,\n\t\t\t\t\t\t\t\"table.dataList\": Adata,\n\t\t\t\t\t\t\tdataList: Adata.map((item) => {\n\t\t\t\t\t\t\t\treturn { ...item, label: item.projectName };\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t});\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.setData({\n\t\t\t\t\t\t\t// options,\n\t\t\t\t\t\t\t\"lineOpations.legend.data\": legendData,\n\t\t\t\t\t\t\t\"lineOpations.series[0].name\": legendData[0],\n\t\t\t\t\t\t\t\"lineOpations.series[0].data\": chartData.stlArr,\n\t\t\t\t\t\t\t\"lineOpations.series[1].name\": legendData[1],\n\t\t\t\t\t\t\t\"lineOpations.series[1].data\": chartData.stlPrevYearArr,\n\t\t\t\t\t\t\tmonthData: mData,\n\t\t\t\t\t\t\tyearData: yData,\n\t\t\t\t\t\t\tdData: dData,\n\t\t\t\t\t\t\tmTotalRow,\n\t\t\t\t\t\t\tyTotalRow,\n\t\t\t\t\t\t\tdTotalRow,\n\t\t\t\t\t\t\t\"table.totalRow\": totalRow,\n\t\t\t\t\t\t\t\"table.dataList\": Adata,\n\t\t\t\t\t\t\tdataList: Adata.map((item) => {\n\t\t\t\t\t\t\t\treturn { ...item, label: item.projectName };\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t});\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t},\r\n\r\n\t\t//获取项目客流图表\r\n\t\tgetXMKL() {\r\n\t\t\tapp.globalData.request\r\n\t\t\t\t.options({\r\n\t\t\t\t\tloading: true,\r\n\t\t\t\t})\r\n\t\t\t\t.get(\"/open/bis-open-report!pfOfMonOrYear.action\", this.queryModel)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tconst data = res.data;\r\n\t\t\t\t\tconst chartData = data.chartData;\r\n\t\t\t\t\tconst legendData = [\"今日\", \"昨日\"];\r\n\t\t\t\t\tthis.setData({\r\n\t\t\t\t\t\t// options,\r\n\t\t\t\t\t\t\"lineOpations.legend.data\": legendData,\r\n\t\t\t\t\t\t\"lineOpations.series[0].name\": legendData[0],\r\n\t\t\t\t\t\t\"lineOpations.series[0].data\": chartData.pro_currentDay,\r\n\t\t\t\t\t\t\"lineOpations.series[1].name\": legendData[1],\r\n\t\t\t\t\t\t\"lineOpations.series[1].data\": chartData.pro_yesterDay,\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t},\r\n\r\n\t\tbindopen() {\r\n\t\t\tthis.setData({\r\n\t\t\t\tshow: true,\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tbindclose() {\r\n\t\t\tthis.setData({\r\n\t\t\t\tshow: false,\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t//图表左上角切换选项\r\n\t\tasync onChartSelectedChange(e) {\r\n\t\t\tconsole.log(e);\r\n\t\t\tlet selected = null;\r\n\t\t\tthis.items.forEach((item) => {\r\n\t\t\t\tif (item.title === e.detail.title) {\r\n\t\t\t\t\tselected = item;\r\n\t\t\t\t\tthis.setData({\r\n\t\t\t\t\t\tchartsTitle: e.detail.title + \"(\" + e.detail.unit + \")\",\r\n\t\t\t\t\t\tchartsType: item.type,\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}); //根据选择图表类别 切换更新图表数据\r\n\r\n\t\t\tif (selected.type == \"xm\") {\r\n\t\t\t\tawait this.setData({\r\n\t\t\t\t\tlineOpations: this.lineopsXm,\r\n\t\t\t\t});\r\n\t\t\t\tthis.getXMKL();\r\n\t\t\t} else if (selected.type == \"kl\") {\r\n\t\t\t\tawait this.setData({\r\n\t\t\t\t\tlineOpations: this.lineops,\r\n\t\t\t\t});\r\n\t\t\t\tthis.queryData();\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n};\r\n</script>\r\n<style>\r\n@import \"./paiming.css\";\r\n</style>\r\n","import mod from \"-!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./paiming.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./paiming.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1611196571669\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}