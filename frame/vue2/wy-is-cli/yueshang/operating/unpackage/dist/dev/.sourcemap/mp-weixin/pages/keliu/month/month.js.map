{"version":3,"sources":["uni-app:///main.js","webpack:////Users/company/ys/2gitPro/bl/pms-h5-web/operating/pages/keliu/month/month.vue?a279","webpack:////Users/company/ys/2gitPro/bl/pms-h5-web/operating/pages/keliu/month/month.vue?adef","webpack:////Users/company/ys/2gitPro/bl/pms-h5-web/operating/pages/keliu/month/month.vue?3b8a","webpack:////Users/company/ys/2gitPro/bl/pms-h5-web/operating/pages/keliu/month/month.vue?1c18","uni-app:///pages/keliu/month/month.vue","webpack:////Users/company/ys/2gitPro/bl/pms-h5-web/operating/pages/keliu/month/month.vue?9243","webpack:////Users/company/ys/2gitPro/bl/pms-h5-web/operating/pages/keliu/month/month.vue?71dc"],"names":["createPage","Page"],"mappings":"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","file":"pages/keliu/month/month.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/keliu/month/month.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./month.vue?vue&type=template&id=034ead77&\"\nvar renderjs\nimport script from \"./month.vue?vue&type=script&lang=js&\"\nexport * from \"./month.vue?vue&type=script&lang=js&\"\nimport style0 from \"./month.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/keliu/month/month.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./month.vue?vue&type=template&id=034ead77&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./month.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./month.vue?vue&type=script&lang=js&\"","<template>\r\n<view>\r\n<app-header>\r\n  <app-project-selector disabled-all :selected=\"selectedProj\" @selected=\"onProjectSelected\"></app-project-selector>\r\n  <view slot=\"right\" style=\"display: flex;\">\r\n    <app-date-picker :fromDate=\"queryModel.yearAndMonth\" fields=\"year\" @changed=\"onDateChanged\"></app-date-picker>\r\n  </view>\r\n</app-header>\r\n\r\n<!-- <view class=\"updata-time\">数据更新时间：{{ updateTime }} 数据来源系统：PMS系统</view> -->\r\n\r\n<view class=\"wrapper\">\r\n  <app-section :collapseable=\"collapseable\">\r\n    <view class=\"head-actions_left_view\" slot=\"head-actions_left\">\r\n      <app-filter-chartdialog :title=\"chartsTitle\" :items=\"items\" @chartselected=\"onChartSelectedChange\">\r\n      </app-filter-chartdialog>\r\n    </view>\r\n    <app-echarts height=\"400rpx\" :options=\"lineOpations\" canvasId=\"keliupro\"></app-echarts>\r\n  </app-section>\r\n</view>\r\n\r\n<view class=\"wrapper\" style=\"margin-top: 12rpx;margin-bottom: 120rpx;\">\r\n  <app-section title=\"月客流排名（单位：万人）\">\r\n    <view slot=\"head-actions\">\r\n      <view class=\"list-mode\">\r\n        <text :class=\"'list-mode-item ' + (table.mode === 'month' ? 'active' : '')\" @tap=\"onListModeChanged\" data-value=\"month\">当月</text>｜\r\n        <text :class=\"'list-mode-item ' + (table.mode === 'year' ? 'active' : '')\" @tap=\"onListModeChanged\" data-value=\"year\">年累计</text>\r\n      </view>\r\n    </view>\r\n    <app-table :fixednum=\"1\" :values=\"table.dataList\" :columns=\"table.columns\">\r\n    </app-table>\r\n  </app-section>\r\n</view>\r\n\r\n<view class=\"bottom-bar\">\r\n  <view class=\"bottom-button\" @tap=\"gotoJiankong\">客流监控</view>\r\n</view>\r\n</view>\r\n</template>\r\n\r\n<script>\r\n// pages/shuju/keliu/paiming.js\r\nconst app = getApp();\r\nimport regeneratorRuntime from \"@/utils/runtime\";\r\nconst monthColumns = [{\r\n  label: \"月份\",\r\n  key: \"month\",\r\n  width: \"140\",\r\n  align: \"left\"\r\n}, {\r\n  label: \"工作日\",\r\n  key: \"gzr\",\r\n  sortable: true,\r\n  width: \"140\",\r\n  align: \"right\"\r\n}, {\r\n  label: \"节假日\",\r\n  key: \"jjr\",\r\n  sortable: true,\r\n  width: \"140\",\r\n  align: \"right\"\r\n}, {\r\n  label: \"客流密度\",\r\n  key: \"stl\",\r\n  sortable: true,\r\n  width: \"180\",\r\n  align: \"right\"\r\n}, {\r\n  label: \"日均客流\",\r\n  key: \"rpj\",\r\n  sortable: true,\r\n  width: \"180\",\r\n  align: \"right\"\r\n}, {\r\n  label: \"客流\",\r\n  key: \"kl\",\r\n  sortable: true,\r\n  width: \"140\",\r\n  align: \"right\"\r\n}, {\r\n  label: \"同比\",\r\n  unit: \"%\",\r\n  key: \"tb\",\r\n  width: \"130\",\r\n  sortable: true,\r\n  align: \"right\"\r\n}, {\r\n  label: \"达成率\",\r\n  key: \"dcl\",\r\n  width: \"130\",\r\n  sortable: true,\r\n  align: \"right\"\r\n}];\r\nconst yearColumns = [{\r\n  label: \"月份\",\r\n  key: \"month\",\r\n  align: \"left\",\r\n  width: \"150\"\r\n}, {\r\n  label: \"客流\",\r\n  key: \"kl\",\r\n  sortable: true,\r\n  width: \"200\",\r\n  align: \"right\"\r\n}, {\r\n  label: \"日均客流\",\r\n  key: \"rpj\",\r\n  sortable: true,\r\n  width: \"180\",\r\n  align: \"right\"\r\n}, {\r\n  label: \"同比\",\r\n  unit: \"%\",\r\n  key: \"tb\",\r\n  width: \"200\",\r\n  sortable: true,\r\n  align: \"right\"\r\n}, {\r\n  label: \"达成率\",\r\n  key: \"dcl\",\r\n  width: \"200\",\r\n  sortable: true,\r\n  align: \"right\"\r\n}];\r\nimport appHeader from \"@/components/common/header\";\r\nimport appProjectSelector from \"@/components/selector/project\";\r\nimport appSection from \"@/components/container/section\";\r\nimport appEcharts from \"@/components/echarts/echarts\";\r\nimport appTable from \"@/components/table/index\";\r\nimport appFilterDialog from \"@/components/filter/dialog\";\r\nimport appDatePicker from \"@/components/selector/datepicker\";\r\nimport appFilterChartdialog from \"@/components/filter/chartdialog\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      chartsType: 'xm',\r\n      chartsTitle: \"项目客流(人)\",\r\n      items: [{\r\n        'title': '项目客流',\r\n        'type': 'xm',\r\n        'value': '',\r\n        'unit': '人'\r\n      },{\r\n        'title': '客流密度',\r\n        'type': 'kl',\r\n        'value': '',\r\n        'unit': '人/天/㎡'\r\n      }],\r\n      queryModel: {\r\n        bisProjectId: null,\r\n        yearAndMonth: null\r\n      },\r\n      updateTime: null,\r\n      collapseable: true,\r\n      lineops: {\r\n        decimals: \"paiming\",\r\n        unit: \"%\",\r\n        xAxis: {\r\n          type: \"category\",\r\n          boundaryGap: false,\r\n          data: [\"1月\", \"2月\", \"3月\", \"4月\", \"5月\", \"6月\", \"7月\", \"8月\", \"9月\", \"10月\", \"11月\", \"12月\"]\r\n        },\r\n        yAxis: {\r\n          type: \"value\",\r\n          boundaryGap: false\r\n        },\r\n        series: [{\r\n          type: \"line\",\r\n          lineStyle: {\r\n            color: \"#3AABFF\"\r\n          },\r\n          areaStyle: {\r\n            color: new this.$echarts.graphic.LinearGradient(0, 0, 0, 1, [{\r\n              offset: 0,\r\n              color: \"#CFDFFE\"\r\n            }, {\r\n              offset: 1,\r\n              color: \"#FFFFFF\"\r\n            }])\r\n          }\r\n        }, {\r\n          type: \"line\",\r\n          lineStyle: {\r\n            color: \"#9BB3C6\"\r\n          }\r\n        }]\r\n      },\r\n      xAxis: {\r\n        type: \"category\",\r\n        boundaryGap: false,\r\n        data: [\"1月\", \"2月\", \"3月\", \"4月\", \"5月\", \"6月\", \"7月\", \"8月\", \"9月\", \"10月\", \"11月\", \"12月\"]\r\n      },\r\n      yAxis: {\r\n        type: \"value\",\r\n        boundaryGap: false\r\n      },\r\n      lineStyle: {\r\n        color: \"#3AABFF\"\r\n      },\r\n      areaStyle: {\r\n        color: new this.$echarts.graphic.LinearGradient(0, 0, 0, 1, [{\r\n          offset: 0,\r\n          color: \"#CFDFFE\"\r\n        }, {\r\n          offset: 1,\r\n          color: \"#FFFFFF\"\r\n        }])\r\n      },\r\n      lineStyle: {\r\n        color: \"#9BB3C6\"\r\n      },\r\n      lineopsXm: {\r\n        decimals: \"paiming\",\r\n        tb: true,\r\n        xAxis: {\r\n          type: \"category\",\r\n          boundaryGap: false,\r\n          data: [\"10:00\", \"11:00\", \"12:00\", \"13:00\", \"14:00\", \"15:00\", \"16:00\", \"17:00\", \"18:00\", \"19:00\", \"20:00\", \"21:00\"]\r\n        },\r\n        yAxis: {\r\n          type: \"value\",\r\n          boundaryGap: false\r\n        },\r\n        series: [{\r\n          type: \"line\",\r\n          lineStyle: {\r\n            color: \"#3AABFF\"\r\n          },\r\n          areaStyle: {\r\n            color: new this.$echarts.graphic.LinearGradient(0, 0, 0, 1, [{\r\n              offset: 0,\r\n              color: \"#CFDFFE\"\r\n            }, {\r\n              offset: 1,\r\n              color: \"#FFFFFF\"\r\n            }])\r\n          }\r\n        }, {\r\n          type: \"line\",\r\n          lineStyle: {\r\n            color: \"#9BB3C6\"\r\n          }\r\n        }]\r\n      },\r\n      xAxis: {\r\n        type: \"category\",\r\n        boundaryGap: false,\r\n        data: [\"10:00\", \"11:00\", \"12:00\", \"13:00\", \"14:00\", \"15:00\", \"16:00\", \"17:00\", \"18:00\", \"19:00\", \"20:00\", \"21:00\"]\r\n      },\r\n      yAxis: {\r\n        type: \"value\",\r\n        boundaryGap: false\r\n      },\r\n      lineStyle: {\r\n        color: \"#3AABFF\"\r\n      },\r\n      areaStyle: {\r\n        color: new this.$echarts.graphic.LinearGradient(0, 0, 0, 1, [{\r\n          offset: 0,\r\n          color: \"#CFDFFE\"\r\n        }, {\r\n          offset: 1,\r\n          color: \"#FFFFFF\"\r\n        }])\r\n      },\r\n      lineStyle: {\r\n        color: \"#9BB3C6\"\r\n      },\r\n      table: {\r\n        mode: \"month\",\r\n        columns: monthColumns,\r\n        dataList: []\r\n      },\r\n      monthData: [],\r\n      yearData: [],\r\n      selectedProj: {},\r\n      lineOpations: \"\",\n\t  firstLoad: true\r\n    };\r\n  },\r\n\r\n  components: {\r\n    appHeader,\r\n    appProjectSelector,\r\n    appSection,\r\n    appEcharts,\r\n    appTable,\r\n    appFilterDialog,\r\n    appDatePicker,\r\n    appFilterChartdialog\r\n  },\r\n  props: {},\r\n\r\n  /**\r\n   * 生命周期函数--监听页面加载\r\n   */\r\n  onLoad: function (options) {\r\n    // console.log(options)\r\n    // const date = new Date()\r\n    this.setData({\r\n      // updateTime: (date.getFullYear() + '-' + (date.getMonth() + 1) + '-' + date.getDate()),\r\n      selectedProj: {\r\n        label: options.projectName,\r\n        value: options.bisProjectId\r\n      },\r\n      \"queryModel.bisProjectId\": options.bisProjectId,\r\n      \"queryModel.yearAndMonth\": options.yearMonth,\r\n      \"queryModel.yearMonth\": options.yearAndMonth,\r\n      //默认显示客流密度信息\r\n      'lineOpations': { ...this.lineops\r\n      }\r\n    });\n    this.queryData();\n\tthis.getXMKL();\n\tthis.onChartSelectedChange({\n\t\tdetail: {\n\t\t\ttitle: \"项目客流\",\n\t\t\ttype: \"xm\",\n\t\t\tunit: \"人\",\n\t\t\tvalue: \"\",\n\t\t},\n\t});\r\n  },\r\n\r\n  /**\r\n   * 生命周期函数--监听页面初次渲染完成\r\n   */\r\n  onReady: function () {},\r\n\r\n  /**\r\n   * 生命周期函数--监听页面显示\r\n   */\r\n  onShow: function () {},\r\n\r\n  /**\r\n   * 生命周期函数--监听页面隐藏\r\n   */\r\n  onHide: function () {},\r\n\r\n  /**\r\n   * 生命周期函数--监听页面卸载\r\n   */\r\n  onUnload: function () {},\r\n\r\n  /**\r\n   * 页面相关事件处理函数--监听用户下拉动作\r\n   */\r\n  onPullDownRefresh: function () {},\r\n\r\n  /**\r\n   * 页面上拉触底事件的处理函数\r\n   */\r\n  onReachBottom: function () {},\r\n\r\n  /**\r\n   * 用户点击右上角分享\r\n   */\r\n  onShareAppMessage: function () {},\r\n  methods: {\r\n    onProjectSelected(e) {\r\n      // console.log(e)\r\n      if (e.detail.label !== \"全部\") {\r\n        this.setData({\r\n          \"queryModel.bisProjectId\": e.detail.value.bisProjectId\r\n        });\r\n        this.queryData();\r\n      }\r\n    },\r\n\r\n    onDateChanged(e) {\r\n      console.log(e);\r\n      this.setData({\r\n        \"queryModel.yearAndMonth\": e.detail.value\r\n      });\r\n      this.queryData();\n\t  this.getXMKL();\r\n    },\r\n\r\n    onListModeChanged(e) {\r\n      const mode = e.target.dataset.value;\r\n\r\n      if (this.table.mode !== mode) {\r\n        this.setData({\r\n          \"table.mode\": mode,\r\n          \"table.columns\": mode === \"month\" ? monthColumns : yearColumns,\r\n          \"table.dataList\": mode === \"month\" ? this.monthData : this.yearData\r\n        });\r\n      }\r\n    },\r\n\r\n    // clickRow(e) {\r\n    //   console.log(e)\r\n    //   app.page.go('../jiankong/jiankong', {\r\n    //     bisProjectId: this.data.queryModel.bisProjectId,\r\n    //     quickDate: e.detail.id\r\n    //   })\r\n    // },\r\n    gotoJiankong() {\r\n      app.globalData.page.go(\"../jiankong/jiankong\", {\r\n        bisProjectId: this.queryModel.bisProjectId,\r\n        projectName: this.selectedProj.label\r\n      });\r\n    },\r\n\r\n    queryData() {\r\n      app.globalData.request.options({\r\n        loading: true\r\n      }).get(\"/open/bis-open-report!pfOfMon.action\", this.queryModel).then(res => {\r\n        const data = res.data;\n\t\tlet year = null\n\t\tlet preYear = null\n\t\tlet legendData = null\r\n        const date = JSON.parse(data.date);\n\t\ttry{\n\t\t\tyear = date[0].substring(0, 4);\n\t\t\tpreYear = Number(year) - 1 + \"\";\n\t\t\tlegendData = [year.substring(2) + \"年度\", preYear.substring(2) + \"年度\"];\n\t\t}catch(e){\n\t\t}\r\n         // let stlchart = JSON.parse(data.stlchart)\r\n        // const len = 12 - stlchart.length\r\n        // if (len && len > 0) {\r\n        //   for (let i = 0; i < len; i++) {\r\n        //     stlchart.push(null)\r\n        //   }\r\n        // }\r\n        // console.log(stlchart)\r\n        // 数据\r\n\r\n        const pf = data.pf; // 月数据\r\n\r\n        let mData = []; // 年数据\r\n\r\n        let yData = [];\r\n\r\n        for (let i = 0, len = pf.length; i < len; i++) {\r\n          const arr = pf[i];\r\n          mData.push({\r\n            month: arr[16],\r\n            gzr: arr[10],\r\n            jjr: arr[11],\r\n            stl: arr[12],\r\n            kl: arr[4],\r\n            tb: arr[6],\r\n            dcl: arr[8],\r\n            rpj: arr[18]\r\n          });\r\n          yData.push({\r\n            month: arr[16],\r\n            kl: arr[5],\r\n            tb: arr[7],\r\n            dcl: arr[9],\r\n            rpj: arr[18]\r\n          });\r\n        }\r\n\r\n        let preStlchart = [];\r\n        if (data.preStlchart && data.preStlchart.length > 5) {\r\n          preStlchart = JSON.parse(data.preStlchart);\r\n        }\r\n\t\tif(this.firstLoad){\n\t\t\tthis.firstLoad = false\r\n\t\t\tthis.setData({\r\n\t\t\t  monthData: mData,\r\n\t\t\t  yearData: yData,\r\n\t\t\t  \"table.dataList\": mData\r\n\t\t\t});\n\t\t}else{\n\t\t\tthis.setData({\n\t\t\t  \"lineOpations.legend.data\": legendData,\n\t\t\t  \"lineOpations.series[0].name\": (legendData?legendData[0]:null),\n\t\t\t  \"lineOpations.series[0].data\": JSON.parse(data.stlchart),\n\t\t\t  \"lineOpations.series[1].name\": (legendData?legendData[1]:null),\n\t\t\t  \"lineOpations.series[1].data\": preStlchart,\n\t\t\t  monthData: mData,\n\t\t\t  yearData: yData,\n\t\t\t  \"table.dataList\": mData\n\t\t\t});\n\t\t}\r\n      });\r\n    },\r\n\r\n    //获取项目客流图表\r\n    getXMKL() {\r\n      let params = {\r\n        provinceCd: \"\",\r\n        attrNew: 7,\r\n        attrNew2: \"\",\r\n        sortNew: \"desc\",\r\n        sortNew2: \"\",\r\n        operateArea: \"\",\r\n        stage: \"\",\r\n        yearAndMonth: this.queryModel.yearMonth\r\n      };\r\n      app.globalData.request.options({\r\n        loading: true\r\n      }).get(\"/open/bis-open-report!pfOfMonOrYear.action\", params).then(res => {\r\n        const data = res.data;\r\n        const chartData = data.chartData;\r\n        const legendData = ['今日', '昨日'];\r\n        this.setData({\r\n          // options,\r\n          \"lineOpations.legend.data\": legendData,\r\n          \"lineOpations.series[0].name\": legendData[0],\r\n          \"lineOpations.series[0].data\": chartData.pro_currentDay,\r\n          \"lineOpations.series[1].name\": legendData[1],\r\n          \"lineOpations.series[1].data\": chartData.pro_yesterDay\r\n        });\r\n      });\r\n    },\r\n\r\n    //图表左上角切换选项\r\n    async onChartSelectedChange(e) {\r\n      let selected = null;\r\n      this.items.forEach(item => {\r\n        if (item.title === e.detail.title) {\r\n          selected = item;\r\n          this.setData({\r\n            \"chartsTitle\": e.detail.title + \"(\" + e.detail.unit + \")\",\r\n            'chartsType': item.type\r\n          });\r\n        }\r\n      }); //根据选择图表类别 切换更新图表数据\r\n\r\n      if (selected.type == 'xm') {\r\n        await this.setData({\r\n          lineOpations: this.lineopsXm\r\n        });\r\n        this.getXMKL();\r\n      } else if (selected.type == 'kl') {\r\n        await this.setData({\r\n          lineOpations: this.lineops\r\n        });\r\n        this.queryData();\r\n      }\r\n    }\r\n\r\n  }\r\n};\r\n</script>\r\n<style>\r\n@import \"./month.css\";\r\n</style>","import mod from \"-!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./month.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./month.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1611196571647\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}