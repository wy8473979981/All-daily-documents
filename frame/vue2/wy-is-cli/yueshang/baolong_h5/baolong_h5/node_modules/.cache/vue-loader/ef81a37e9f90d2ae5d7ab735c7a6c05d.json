{"remainingRequest":"D:\\项目\\宝龙驾驶舱H5改版\\baolong_h5\\baolong_h5\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\项目\\宝龙驾驶舱H5改版\\baolong_h5\\baolong_h5\\src\\components\\projectSelect\\projectList.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\项目\\宝龙驾驶舱H5改版\\baolong_h5\\baolong_h5\\src\\components\\projectSelect\\projectList.vue","mtime":1611388029931},{"path":"D:\\项目\\宝龙驾驶舱H5改版\\baolong_h5\\baolong_h5\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\项目\\宝龙驾驶舱H5改版\\baolong_h5\\baolong_h5\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\项目\\宝龙驾驶舱H5改版\\baolong_h5\\baolong_h5\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\项目\\宝龙驾驶舱H5改版\\baolong_h5\\baolong_h5\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQoJZGF0YSgpIHsNCgkJcmV0dXJuIHsNCgkJCXByb2plY3RMaXN0OiBbXSwNCgkJCWluZGV4TGlzdDogW10sDQoJCX07DQoJfSwNCgltZXRob2RzOiB7DQoJCWFzeW5jIGdldFByb2plY3RMaXN0KCkgew0KCQkJbGV0IGRhdGEgPSBbXTsNCgkJCWxldCBwcm9qZWN0TGlzdCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJwcm9qZWN0TGlzdCIpICYmIEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oInByb2plY3RMaXN0IikpOw0KCQkJaWYgKHByb2plY3RMaXN0ICYmIHByb2plY3RMaXN0Lmxlbmd0aCA+IDApIHsNCgkJCQlkYXRhID0gcHJvamVjdExpc3Q7DQoJCQl9IGVsc2Ugew0KCQkJCWxldCByZXMgPSBhd2FpdCB0aGlzLiRheGlvcy5nZXRQcm9qZWN0TGlzdCh7IG9wZXJTdGF0dXM6IDIgfSk7DQoJCQkJZGF0YSA9IHJlcy5kYXRhOw0KCQkJCWxvY2FsU3RvcmFnZS5zZXRJdGVtKCJwcm9qZWN0TGlzdCIsIEpTT04uc3RyaW5naWZ5KGRhdGEpKTsNCgkJCQkvLyB0aGlzLiRzdG9yZS5jb21taXQoKCJwcm9qZWN0TGlzdCIsIGRhdGEpKTsNCgkJCX0NCg0KCQkJdGhpcy5nZXRQcm9qZWN0TGlzdEZvcm1hdChkYXRhKTsNCgkJfSwNCgkJZ2V0UHJvamVjdExpc3RGb3JtYXQoZGF0YSkgew0KCQkJbGV0IHJlc3VsdCA9IFsNCgkJCQl7DQoJCQkJCWtleTogIiMiLA0KCQkJCQljaGlsZHJlbjogWw0KCQkJCQkJew0KCQkJCQkJCXNob3J0TmFtZTogIuWFqOmDqCIsDQoJCQkJCQl9LA0KCQkJCQldLA0KCQkJCX0sDQoJCQldOw0KCQkJZGF0YS5mb3JFYWNoKChpdGVtKSA9PiB7DQoJCQkJbGV0IGtleSA9IGl0ZW0ucHJvamVjdFNob3J0TmFtZS5zbGljZSgwLCAxKTsNCgkJCQlsZXQgdGVtcCA9IHJlc3VsdC5maW5kKCh2KSA9PiB2LmtleSA9PT0ga2V5KTsNCgkJCQlpZiAodGVtcCkgew0KCQkJCQl0ZW1wLmNoaWxkcmVuLnB1c2goaXRlbSk7DQoJCQkJfSBlbHNlIHsNCgkJCQkJcmVzdWx0LnB1c2goew0KCQkJCQkJa2V5OiBrZXksDQoJCQkJCQljaGlsZHJlbjogW2l0ZW1dLA0KCQkJCQl9KTsNCgkJCQl9DQoJCQl9KTsNCgkJCXRoaXMuaW5kZXhMaXN0ID0gcmVzdWx0Lm1hcCgoaXRlbSkgPT4gaXRlbS5rZXkpOw0KCQkJdGhpcy5wcm9qZWN0TGlzdCA9IHJlc3VsdDsNCgkJfSwNCgkJcHJvamVTZWxlY3RlZChpdGVtKSB7DQoJCQl0aGlzLiRlbWl0KCJwcm9qZVNlbGVjdGVkIiwgaXRlbSk7DQoJCX0sDQoJfSwNCgltb3VudGVkKCkgew0KCQl0aGlzLmdldFByb2plY3RMaXN0KCk7DQoJfSwNCn07DQo="},{"version":3,"sources":["projectList.vue"],"names":[],"mappings":";;;;;;;;;;;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"projectList.vue","sourceRoot":"src/components/projectSelect","sourcesContent":["<template>\r\n\t<div class=\"project-list\">\r\n\t\t<van-index-bar :index-list=\"indexList\" highlight-color=\"#3a96bd\">\r\n\t\t\t<div v-for=\"item in projectList\" :key=\"item.key\">\r\n\t\t\t\t<van-index-anchor :index=\"item.key\">{{ item.key }}</van-index-anchor>\r\n\t\t\t\t<van-cell :title=\"child.shortName\" v-for=\"child in item.children\" :key=\"child.bisProjectId\" @click=\"projeSelected(child)\"> </van-cell>\r\n\t\t\t</div>\r\n\t\t</van-index-bar>\r\n\t</div>\r\n</template>\r\n<script>\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tprojectList: [],\r\n\t\t\tindexList: [],\r\n\t\t};\r\n\t},\r\n\tmethods: {\r\n\t\tasync getProjectList() {\r\n\t\t\tlet data = [];\r\n\t\t\tlet projectList = localStorage.getItem(\"projectList\") && JSON.parse(localStorage.getItem(\"projectList\"));\r\n\t\t\tif (projectList && projectList.length > 0) {\r\n\t\t\t\tdata = projectList;\r\n\t\t\t} else {\r\n\t\t\t\tlet res = await this.$axios.getProjectList({ operStatus: 2 });\r\n\t\t\t\tdata = res.data;\r\n\t\t\t\tlocalStorage.setItem(\"projectList\", JSON.stringify(data));\r\n\t\t\t\t// this.$store.commit((\"projectList\", data));\r\n\t\t\t}\r\n\r\n\t\t\tthis.getProjectListFormat(data);\r\n\t\t},\r\n\t\tgetProjectListFormat(data) {\r\n\t\t\tlet result = [\r\n\t\t\t\t{\r\n\t\t\t\t\tkey: \"#\",\r\n\t\t\t\t\tchildren: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tshortName: \"全部\",\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t],\r\n\t\t\t\t},\r\n\t\t\t];\r\n\t\t\tdata.forEach((item) => {\r\n\t\t\t\tlet key = item.projectShortName.slice(0, 1);\r\n\t\t\t\tlet temp = result.find((v) => v.key === key);\r\n\t\t\t\tif (temp) {\r\n\t\t\t\t\ttemp.children.push(item);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tresult.push({\r\n\t\t\t\t\t\tkey: key,\r\n\t\t\t\t\t\tchildren: [item],\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tthis.indexList = result.map((item) => item.key);\r\n\t\t\tthis.projectList = result;\r\n\t\t},\r\n\t\tprojeSelected(item) {\r\n\t\t\tthis.$emit(\"projeSelected\", item);\r\n\t\t},\r\n\t},\r\n\tmounted() {\r\n\t\tthis.getProjectList();\r\n\t},\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.project-list {\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\toverflow: auto;\r\n\tbackground-color: #fff;\r\n}\r\n/deep/.van-index-anchor {\r\n\twidth: 100%;\r\n\theight: 46px;\r\n\tline-height: 46px;\r\n\tfont-size: 16px;\r\n\tfont-weight: bold;\r\n\tpadding: 0 10px;\r\n\tborder-bottom: 1px solid #e5e5e5;\r\n\tbackground: #eee;\r\n}\r\n</style>\r\n"]}]}