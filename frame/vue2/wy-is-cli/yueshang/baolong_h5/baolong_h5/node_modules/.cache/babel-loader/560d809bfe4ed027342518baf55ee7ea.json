{"remainingRequest":"D:\\项目\\宝龙驾驶舱H5改版\\baolong_h5\\baolong_h5\\node_modules\\babel-loader\\lib\\index.js!D:\\项目\\宝龙驾驶舱H5改版\\baolong_h5\\baolong_h5\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\项目\\宝龙驾驶舱H5改版\\baolong_h5\\baolong_h5\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\项目\\宝龙驾驶舱H5改版\\baolong_h5\\baolong_h5\\src\\components\\projectSelect\\projectList.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\项目\\宝龙驾驶舱H5改版\\baolong_h5\\baolong_h5\\src\\components\\projectSelect\\projectList.vue","mtime":1611544446585},{"path":"D:\\项目\\宝龙驾驶舱H5改版\\baolong_h5\\baolong_h5\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\项目\\宝龙驾驶舱H5改版\\baolong_h5\\baolong_h5\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\项目\\宝龙驾驶舱H5改版\\baolong_h5\\baolong_h5\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\项目\\宝龙驾驶舱H5改版\\baolong_h5\\baolong_h5\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRDovXHU5ODc5XHU3NkVFL1x1NUI5RFx1OUY5OVx1OUE3RVx1OUE3Nlx1ODIzMUg1XHU2NTM5XHU3MjQ4L2Jhb2xvbmdfaDUvYmFvbG9uZ19oNS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcHJvamVjdExpc3Q6IFtdLAogICAgICBpbmRleExpc3Q6IFtdCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0UHJvamVjdExpc3Q6IGZ1bmN0aW9uIGdldFByb2plY3RMaXN0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgZGF0YSwgcHJvamVjdExpc3QsIHJlczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBkYXRhID0gW107CiAgICAgICAgICAgICAgICBwcm9qZWN0TGlzdCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJwcm9qZWN0TGlzdCIpICYmIEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oInByb2plY3RMaXN0IikpOwoKICAgICAgICAgICAgICAgIGlmICghKHByb2plY3RMaXN0ICYmIHByb2plY3RMaXN0Lmxlbmd0aCA+IDApKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBkYXRhID0gcHJvamVjdExpc3Q7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDg7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuJGF4aW9zLmdldFByb2plY3RMaXN0KHsKICAgICAgICAgICAgICAgICAgb3BlclN0YXR1czogMgogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBkYXRhID0gcmVzLmRhdGE7CiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgicHJvamVjdExpc3QiLCBKU09OLnN0cmluZ2lmeShkYXRhKSk7IC8vIHRoaXMuJHN0b3JlLmNvbW1pdCgoInByb2plY3RMaXN0IiwgZGF0YSkpOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgX3RoaXMuZ2V0UHJvamVjdExpc3RGb3JtYXQoZGF0YSk7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZ2V0UHJvamVjdExpc3RGb3JtYXQ6IGZ1bmN0aW9uIGdldFByb2plY3RMaXN0Rm9ybWF0KGRhdGEpIHsKICAgICAgdmFyIHJlc3VsdCA9IFt7CiAgICAgICAga2V5OiAiIyIsCiAgICAgICAgY2hpbGRyZW46IFt7CiAgICAgICAgICBzaG9ydE5hbWU6ICLlhajpg6giCiAgICAgICAgfV0KICAgICAgfV07CiAgICAgIGRhdGEuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHZhciBrZXkgPSBpdGVtLnByb2plY3RTaG9ydE5hbWUuc2xpY2UoMCwgMSk7CiAgICAgICAgdmFyIHRlbXAgPSByZXN1bHQuZmluZChmdW5jdGlvbiAodikgewogICAgICAgICAgcmV0dXJuIHYua2V5ID09PSBrZXk7CiAgICAgICAgfSk7CgogICAgICAgIGlmICh0ZW1wKSB7CiAgICAgICAgICB0ZW1wLmNoaWxkcmVuLnB1c2goaXRlbSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJlc3VsdC5wdXNoKHsKICAgICAgICAgICAga2V5OiBrZXksCiAgICAgICAgICAgIGNoaWxkcmVuOiBbaXRlbV0KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHRoaXMuaW5kZXhMaXN0ID0gcmVzdWx0Lm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtLmtleTsKICAgICAgfSk7CiAgICAgIHRoaXMucHJvamVjdExpc3QgPSByZXN1bHQ7CiAgICB9LAogICAgcHJvamVTZWxlY3RlZDogZnVuY3Rpb24gcHJvamVTZWxlY3RlZChpdGVtKSB7CiAgICAgIHRoaXMuJGVtaXQoInByb2plU2VsZWN0ZWQiLCBpdGVtKTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdldFByb2plY3RMaXN0KCk7CiAgfQp9Ow=="},{"version":3,"sources":["projectList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAWA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,WAAA,EAAA,EADA;AAEA,MAAA,SAAA,EAAA;AAFA,KAAA;AAIA,GANA;AAOA,EAAA,OAAA,EAAA;AACA,IAAA,cADA,4BACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,IADA,GACA,EADA;AAEA,gBAAA,WAFA,GAEA,YAAA,CAAA,OAAA,CAAA,aAAA,KAAA,IAAA,CAAA,KAAA,CAAA,YAAA,CAAA,OAAA,CAAA,aAAA,CAAA,CAFA;;AAAA,sBAGA,WAAA,IAAA,WAAA,CAAA,MAAA,GAAA,CAHA;AAAA;AAAA;AAAA;;AAIA,gBAAA,IAAA,GAAA,WAAA;AAJA;AAAA;;AAAA;AAAA;AAAA,uBAMA,KAAA,CAAA,MAAA,CAAA,cAAA,CAAA;AAAA,kBAAA,UAAA,EAAA;AAAA,iBAAA,CANA;;AAAA;AAMA,gBAAA,GANA;AAOA,gBAAA,IAAA,GAAA,GAAA,CAAA,IAAA;AACA,gBAAA,YAAA,CAAA,OAAA,CAAA,aAAA,EAAA,IAAA,CAAA,SAAA,CAAA,IAAA,CAAA,EARA,CASA;;AATA;AAYA,gBAAA,KAAA,CAAA,oBAAA,CAAA,IAAA;;AAZA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAaA,KAdA;AAeA,IAAA,oBAfA,gCAeA,IAfA,EAeA;AACA,UAAA,MAAA,GAAA,CACA;AACA,QAAA,GAAA,EAAA,GADA;AAEA,QAAA,QAAA,EAAA,CACA;AACA,UAAA,SAAA,EAAA;AADA,SADA;AAFA,OADA,CAAA;AAUA,MAAA,IAAA,CAAA,OAAA,CAAA,UAAA,IAAA,EAAA;AACA,YAAA,GAAA,GAAA,IAAA,CAAA,gBAAA,CAAA,KAAA,CAAA,CAAA,EAAA,CAAA,CAAA;AACA,YAAA,IAAA,GAAA,MAAA,CAAA,IAAA,CAAA,UAAA,CAAA;AAAA,iBAAA,CAAA,CAAA,GAAA,KAAA,GAAA;AAAA,SAAA,CAAA;;AACA,YAAA,IAAA,EAAA;AACA,UAAA,IAAA,CAAA,QAAA,CAAA,IAAA,CAAA,IAAA;AACA,SAFA,MAEA;AACA,UAAA,MAAA,CAAA,IAAA,CAAA;AACA,YAAA,GAAA,EAAA,GADA;AAEA,YAAA,QAAA,EAAA,CAAA,IAAA;AAFA,WAAA;AAIA;AACA,OAXA;AAYA,WAAA,SAAA,GAAA,MAAA,CAAA,GAAA,CAAA,UAAA,IAAA;AAAA,eAAA,IAAA,CAAA,GAAA;AAAA,OAAA,CAAA;AACA,WAAA,WAAA,GAAA,MAAA;AACA,KAxCA;AAyCA,IAAA,aAzCA,yBAyCA,IAzCA,EAyCA;AACA,WAAA,KAAA,CAAA,eAAA,EAAA,IAAA;AACA;AA3CA,GAPA;AAoDA,EAAA,OApDA,qBAoDA;AACA,SAAA,cAAA;AACA;AAtDA,CAAA","sourcesContent":["<template>\r\n\t<div class=\"project-list\">\r\n\t\t<van-index-bar :index-list=\"indexList\" highlight-color=\"#3a96bd\">\r\n\t\t\t<div v-for=\"item in projectList\" :key=\"item.key\">\r\n\t\t\t\t<van-index-anchor :index=\"item.key\">{{ item.key }}</van-index-anchor>\r\n\t\t\t\t<van-cell :title=\"child.shortName\" v-for=\"child in item.children\" :key=\"child.bisProjectId\" @click=\"projeSelected(child)\"> </van-cell>\r\n\t\t\t</div>\r\n\t\t</van-index-bar>\r\n\t</div>\r\n</template>\r\n<script>\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tprojectList: [],\r\n\t\t\tindexList: [],\r\n\t\t};\r\n\t},\r\n\tmethods: {\r\n\t\tasync getProjectList() {\r\n\t\t\tlet data = [];\r\n\t\t\tlet projectList = localStorage.getItem(\"projectList\") && JSON.parse(localStorage.getItem(\"projectList\"));\r\n\t\t\tif (projectList && projectList.length > 0) {\r\n\t\t\t\tdata = projectList;\r\n\t\t\t} else {\r\n\t\t\t\tlet res = await this.$axios.getProjectList({ operStatus: 2 });\r\n\t\t\t\tdata = res.data;\r\n\t\t\t\tlocalStorage.setItem(\"projectList\", JSON.stringify(data));\r\n\t\t\t\t// this.$store.commit((\"projectList\", data));\r\n\t\t\t}\r\n\r\n\t\t\tthis.getProjectListFormat(data);\r\n\t\t},\r\n\t\tgetProjectListFormat(data) {\r\n\t\t\tlet result = [\r\n\t\t\t\t{\r\n\t\t\t\t\tkey: \"#\",\r\n\t\t\t\t\tchildren: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tshortName: \"全部\",\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t],\r\n\t\t\t\t},\r\n\t\t\t];\r\n\t\t\tdata.forEach((item) => {\r\n\t\t\t\tlet key = item.projectShortName.slice(0, 1);\r\n\t\t\t\tlet temp = result.find((v) => v.key === key);\r\n\t\t\t\tif (temp) {\r\n\t\t\t\t\ttemp.children.push(item);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tresult.push({\r\n\t\t\t\t\t\tkey: key,\r\n\t\t\t\t\t\tchildren: [item],\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tthis.indexList = result.map((item) => item.key);\r\n\t\t\tthis.projectList = result;\r\n\t\t},\r\n\t\tprojeSelected(item) {\r\n\t\t\tthis.$emit(\"projeSelected\", item);\r\n\t\t},\r\n\t},\r\n\tmounted() {\r\n\t\tthis.getProjectList();\r\n\t},\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.project-list {\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\toverflow: auto;\r\n\tbackground-color: #fff;\r\n\tcolor: #ccc;\r\n}\r\n/deep/.van-index-anchor {\r\n\twidth: 100%;\r\n\theight: 46px;\r\n\tline-height: 46px;\r\n\tfont-size: 16px;\r\n\tfont-weight: bold;\r\n\tpadding: 0 10px;\r\n\tborder-bottom: 1px solid #e5e5e5;\r\n\tbackground: #eee;\r\n}\r\n</style>\r\n"],"sourceRoot":"src/components/projectSelect"}]}